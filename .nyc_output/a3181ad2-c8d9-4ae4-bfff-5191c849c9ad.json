{"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\CategoriesController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\CategoriesController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":88}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":40}},"5":{"start":{"line":12,"column":21},"end":{"line":12,"column":35}},"6":{"start":{"line":13,"column":28},"end":{"line":13,"column":65}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":27}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":56}},"9":{"start":{"line":20,"column":21},"end":{"line":20,"column":35}},"10":{"start":{"line":21,"column":28},"end":{"line":21,"column":74}},"11":{"start":{"line":22,"column":8},"end":{"line":22,"column":37}},"12":{"start":{"line":23,"column":8},"end":{"line":23,"column":34}},"13":{"start":{"line":26,"column":28},"end":{"line":26,"column":74}},"14":{"start":{"line":27,"column":8},"end":{"line":27,"column":36}},"15":{"start":{"line":30,"column":0},"end":{"line":30,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":21},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":29},"end":{"line":15,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":27},"end":{"line":18,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":38},"end":{"line":24,"column":5}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":30},"end":{"line":28,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":2,"11":1,"12":1,"13":2,"14":1,"15":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"CategoriesController.js","sourceRoot":"","sources":["CategoriesController.ts"],"names":[],"mappings":";;;;;AACA,yFAA0C;AAE1C,MAAqB,oBAAoB;IAChC,KAAK,CAAC,KAAK,CAAC,GAAwB;QACzC,OAAO,kBAAQ,CAAC,GAAG,EAAE,CAAA;IACvB,CAAC;IAEM,KAAK,CAAC,KAAK,CAAC,EAAE,OAAO,EAAuB;QACjD,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAA;QAC3B,MAAM,WAAW,GAAG,MAAM,kBAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAC/C,OAAO,WAAW,CAAA;IACpB,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAuB;QAC/C,OAAO,kBAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;IACvC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAuB;QAC1D,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAA;QAC3B,MAAM,WAAW,GAAG,MAAM,kBAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACxD,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QAC5B,OAAO,WAAW,CAAC,IAAI,EAAE,CAAA;IAC3B,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,EAAE,MAAM,EAAuB;QAClD,MAAM,WAAW,GAAG,MAAM,kBAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACxD,OAAO,WAAW,CAAC,MAAM,EAAE,CAAA;IAC7B,CAAC;CACF;AA1BD,uCA0BC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Category from 'App/Models/Category'\r\n\r\nexport default class CategoriesController {\r\n  public async index(ctx: HttpContextContract) {\r\n    return Category.all()\r\n  }\r\n\r\n  public async store({ request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const newCategory = await Category.create(body)\r\n    return newCategory\r\n  }\r\n\r\n  public async show({ params }: HttpContextContract) {\r\n    return Category.findOrFail(params.id)\r\n  }\r\n\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const theCategory = await Category.findOrFail(params.id)\r\n    theCategory.name = body.name\r\n    return theCategory.save()\r\n  }\r\n\r\n  public async destroy({ params }: HttpContextContract) {\r\n    const theCategory = await Category.findOrFail(params.id)\r\n    return theCategory.delete()\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"525cf8ce05de4a1eec07792f6f9c14f1bcda8d4c"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Category.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Category.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":18},"end":{"line":18,"column":55}},"19":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":37}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":39}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":44}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":44}},"24":{"start":{"line":38,"column":0},"end":{"line":43,"column":43}},"25":{"start":{"line":39,"column":29},"end":{"line":39,"column":46}},"26":{"start":{"line":44,"column":0},"end":{"line":44,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":39,"column":23},"end":{"line":39,"column":24}},"loc":{"start":{"line":39,"column":29},"end":{"line":39,"column":46}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":28,"column":30},"end":{"line":28,"column":112}},"type":"cond-expr","locations":[{"start":{"line":28,"column":101},"end":{"line":28,"column":103}},{"start":{"line":28,"column":106},"end":{"line":28,"column":112}}],"line":28},"17":{"loc":{"start":{"line":28,"column":43},"end":{"line":28,"column":82}},"type":"binary-expr","locations":[{"start":{"line":28,"column":43},"end":{"line":28,"column":72}},{"start":{"line":28,"column":76},"end":{"line":28,"column":82}}],"line":28},"18":{"loc":{"start":{"line":32,"column":30},"end":{"line":32,"column":132}},"type":"cond-expr","locations":[{"start":{"line":32,"column":121},"end":{"line":32,"column":123}},{"start":{"line":32,"column":126},"end":{"line":32,"column":132}}],"line":32},"19":{"loc":{"start":{"line":32,"column":43},"end":{"line":32,"column":102}},"type":"binary-expr","locations":[{"start":{"line":32,"column":43},"end":{"line":32,"column":82}},{"start":{"line":32,"column":86},"end":{"line":32,"column":102}}],"line":32},"20":{"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":132}},"type":"cond-expr","locations":[{"start":{"line":36,"column":121},"end":{"line":36,"column":123}},{"start":{"line":36,"column":126},"end":{"line":36,"column":132}}],"line":36},"21":{"loc":{"start":{"line":36,"column":43},"end":{"line":36,"column":102}},"type":"binary-expr","locations":[{"start":{"line":36,"column":43},"end":{"line":36,"column":82}},{"start":{"line":36,"column":86},"end":{"line":36,"column":102}}],"line":36},"22":{"loc":{"start":{"line":42,"column":30},"end":{"line":42,"column":126}},"type":"cond-expr","locations":[{"start":{"line":42,"column":115},"end":{"line":42,"column":117}},{"start":{"line":42,"column":120},"end":{"line":42,"column":126}}],"line":42},"23":{"loc":{"start":{"line":42,"column":43},"end":{"line":42,"column":96}},"type":"binary-expr","locations":[{"start":{"line":42,"column":43},"end":{"line":42,"column":79}},{"start":{"line":42,"column":83},"end":{"line":42,"column":96}}],"line":42}},"s":{"0":1,"1":5,"2":5,"3":5,"4":5,"5":0,"6":0,"7":0,"8":0,"9":5,"10":1,"11":5,"12":5,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1},"f":{"0":5,"1":5,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,5],"2":[0,5],"3":[5,0],"4":[5,5],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[5,5,0],"10":[1,1,1],"11":[5,0],"12":[5,5],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1],"22":[0,1],"23":[1,0]},"inputSourceMap":{"version":3,"file":"Category.js","sourceRoot":"","sources":["Category.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA2E;AAC3E,wDAA+B;AAE/B,MAAqB,QAAS,SAAQ,eAAS;;AAC/B,cAAK,GAAG,YAAY,CAAA;AAElC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;oCACX;AAGjB;IADC,IAAA,YAAM,GAAE;kDACI,MAAM,oBAAN,MAAM;sCAAA;AAGnB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;2CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;2CAAA;AAK1B;IAHC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,iBAAO,EAAE;QACtB,UAAU,EAAE,aAAa;KAC1B,CAAC;kDACe,aAAO,oBAAP,aAAO;0CAAgB;AAjB1C,2BAkBC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column, HasMany, hasMany } from '@ioc:Adonis/Lucid/Orm'\r\nimport Product from './Product'\r\n\r\nexport default class Category extends BaseModel {\r\n  public static table = 'categories'\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public name: String\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @hasMany(() => Product, {\r\n    foreignKey: 'id_category',\r\n  })\r\n  public products: HasMany<typeof Product>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"81db2bcd2b9e5c21302371c49d732cd060715158"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Product.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Product.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":19,"column":19},"end":{"line":19,"column":57}},"20":{"start":{"line":20,"column":23},"end":{"line":20,"column":65}},"21":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}},"22":{"start":{"line":24,"column":0},"end":{"line":27,"column":36}},"23":{"start":{"line":28,"column":0},"end":{"line":31,"column":38}},"24":{"start":{"line":32,"column":0},"end":{"line":35,"column":43}},"25":{"start":{"line":36,"column":0},"end":{"line":39,"column":43}},"26":{"start":{"line":40,"column":0},"end":{"line":43,"column":41}},"27":{"start":{"line":44,"column":0},"end":{"line":49,"column":38}},"28":{"start":{"line":45,"column":31},"end":{"line":45,"column":45}},"29":{"start":{"line":50,"column":0},"end":{"line":53,"column":45}},"30":{"start":{"line":54,"column":0},"end":{"line":59,"column":42}},"31":{"start":{"line":55,"column":31},"end":{"line":55,"column":49}},"32":{"start":{"line":60,"column":0},"end":{"line":65,"column":47}},"33":{"start":{"line":61,"column":29},"end":{"line":61,"column":51}},"34":{"start":{"line":66,"column":0},"end":{"line":66,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":45,"column":25},"end":{"line":45,"column":26}},"loc":{"start":{"line":45,"column":31},"end":{"line":45,"column":45}},"line":45},"4":{"name":"(anonymous_4)","decl":{"start":{"line":55,"column":25},"end":{"line":55,"column":26}},"loc":{"start":{"line":55,"column":31},"end":{"line":55,"column":49}},"line":55},"5":{"name":"(anonymous_5)","decl":{"start":{"line":61,"column":23},"end":{"line":61,"column":24}},"loc":{"start":{"line":61,"column":29},"end":{"line":61,"column":51}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":34,"column":30},"end":{"line":34,"column":132}},"type":"cond-expr","locations":[{"start":{"line":34,"column":121},"end":{"line":34,"column":123}},{"start":{"line":34,"column":126},"end":{"line":34,"column":132}}],"line":34},"17":{"loc":{"start":{"line":34,"column":43},"end":{"line":34,"column":102}},"type":"binary-expr","locations":[{"start":{"line":34,"column":43},"end":{"line":34,"column":82}},{"start":{"line":34,"column":86},"end":{"line":34,"column":102}}],"line":34},"18":{"loc":{"start":{"line":38,"column":30},"end":{"line":38,"column":132}},"type":"cond-expr","locations":[{"start":{"line":38,"column":121},"end":{"line":38,"column":123}},{"start":{"line":38,"column":126},"end":{"line":38,"column":132}}],"line":38},"19":{"loc":{"start":{"line":38,"column":43},"end":{"line":38,"column":102}},"type":"binary-expr","locations":[{"start":{"line":38,"column":43},"end":{"line":38,"column":82}},{"start":{"line":38,"column":86},"end":{"line":38,"column":102}}],"line":38},"20":{"loc":{"start":{"line":48,"column":30},"end":{"line":48,"column":130}},"type":"cond-expr","locations":[{"start":{"line":48,"column":119},"end":{"line":48,"column":121}},{"start":{"line":48,"column":124},"end":{"line":48,"column":130}}],"line":48},"21":{"loc":{"start":{"line":48,"column":43},"end":{"line":48,"column":100}},"type":"binary-expr","locations":[{"start":{"line":48,"column":43},"end":{"line":48,"column":81}},{"start":{"line":48,"column":85},"end":{"line":48,"column":100}}],"line":48},"22":{"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":130}},"type":"cond-expr","locations":[{"start":{"line":58,"column":119},"end":{"line":58,"column":121}},{"start":{"line":58,"column":124},"end":{"line":58,"column":130}}],"line":58},"23":{"loc":{"start":{"line":58,"column":43},"end":{"line":58,"column":100}},"type":"binary-expr","locations":[{"start":{"line":58,"column":43},"end":{"line":58,"column":81}},{"start":{"line":58,"column":85},"end":{"line":58,"column":100}}],"line":58},"24":{"loc":{"start":{"line":64,"column":30},"end":{"line":64,"column":126}},"type":"cond-expr","locations":[{"start":{"line":64,"column":115},"end":{"line":64,"column":117}},{"start":{"line":64,"column":120},"end":{"line":64,"column":126}}],"line":64},"25":{"loc":{"start":{"line":64,"column":43},"end":{"line":64,"column":96}},"type":"binary-expr","locations":[{"start":{"line":64,"column":43},"end":{"line":64,"column":79}},{"start":{"line":64,"column":83},"end":{"line":64,"column":96}}],"line":64}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":0,"6":0,"7":0,"8":0,"9":9,"10":1,"11":9,"12":9,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":5,"29":1,"30":1,"31":5,"32":1,"33":3,"34":1},"f":{"0":9,"1":9,"2":3,"3":5,"4":5,"5":3},"b":{"0":[1,1,1],"1":[0,9],"2":[0,9],"3":[9,0],"4":[9,9],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[9,9,0],"10":[1,1,1],"11":[9,0],"12":[9,9],"13":[1,1,1],"14":[3,0],"15":[3,3],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0]},"inputSourceMap":{"version":3,"file":"Product.js","sourceRoot":"","sources":["Product.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAiG;AACjG,kDAAyB;AACzB,0DAAiC;AACjC,kEAAyC;AAEzC,MAAqB,OAAQ,SAAQ,eAAS;;AAC9B,aAAK,GAAG,UAAU,CAAA;AAGhC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;mCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;qCACU;AAGnB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;0CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;0CAAA;AAG1B;IADC,IAAA,YAAM,GAAE;;wCACa;AAKtB;IAHC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACrB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACW,eAAS,oBAAT,eAAS;qCAAa;AAGnC;IADC,IAAA,YAAM,GAAE;;4CACiB;AAK1B;IAHC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,kBAAQ,EAAE;QACzB,UAAU,EAAE,aAAa;KAC1B,CAAC;kDACe,eAAS,oBAAT,eAAS;yCAAiB;AAK3C;IAHC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,sBAAY,EAAE;QAC3B,UAAU,EAAE,YAAY;KACzB,CAAC;kDACoB,aAAO,oBAAP,aAAO;8CAAqB;AAlCpD,0BAmCC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, BelongsTo, belongsTo, column, HasMany, hasMany } from '@ioc:Adonis/Lucid/Orm'\r\nimport Farm from './Farm'\r\nimport Category from './Category'\r\nimport StockProduct from './StockProduct'\r\n\r\nexport default class Product extends BaseModel {\r\n  public static table = 'products'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public name: string\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @column()\r\n  public id_farm: number\r\n\r\n  @belongsTo(() => Farm, {\r\n    foreignKey: 'id_farm',\r\n  })\r\n  public farm: BelongsTo<typeof Farm>\r\n\r\n  @column()\r\n  public id_category: number\r\n\r\n  @belongsTo(() => Category, {\r\n    foreignKey: 'id_category',\r\n  })\r\n  public category: BelongsTo<typeof Category>\r\n\r\n  @hasMany(() => StockProduct, {\r\n    foreignKey: 'id_product',\r\n  })\r\n  public stockProducts: HasMany<typeof StockProduct>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8f85d8f9af6b386c18d818d69c6f56ef21504e68"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Farm.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Farm.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":18},"end":{"line":18,"column":55}},"19":{"start":{"line":19,"column":16},"end":{"line":19,"column":51}},"20":{"start":{"line":22,"column":0},"end":{"line":22,"column":21}},"21":{"start":{"line":23,"column":0},"end":{"line":26,"column":33}},"22":{"start":{"line":27,"column":0},"end":{"line":30,"column":38}},"23":{"start":{"line":31,"column":0},"end":{"line":34,"column":35}},"24":{"start":{"line":35,"column":0},"end":{"line":38,"column":38}},"25":{"start":{"line":39,"column":0},"end":{"line":42,"column":45}},"26":{"start":{"line":43,"column":0},"end":{"line":46,"column":36}},"27":{"start":{"line":47,"column":0},"end":{"line":50,"column":40}},"28":{"start":{"line":51,"column":0},"end":{"line":54,"column":40}},"29":{"start":{"line":55,"column":0},"end":{"line":60,"column":39}},"30":{"start":{"line":56,"column":29},"end":{"line":56,"column":46}},"31":{"start":{"line":61,"column":0},"end":{"line":66,"column":37}},"32":{"start":{"line":62,"column":29},"end":{"line":62,"column":44}},"33":{"start":{"line":67,"column":0},"end":{"line":67,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":56,"column":23},"end":{"line":56,"column":24}},"loc":{"start":{"line":56,"column":29},"end":{"line":56,"column":46}},"line":56},"4":{"name":"(anonymous_4)","decl":{"start":{"line":62,"column":23},"end":{"line":62,"column":24}},"loc":{"start":{"line":62,"column":29},"end":{"line":62,"column":44}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":132}},"type":"cond-expr","locations":[{"start":{"line":49,"column":121},"end":{"line":49,"column":123}},{"start":{"line":49,"column":126},"end":{"line":49,"column":132}}],"line":49},"17":{"loc":{"start":{"line":49,"column":43},"end":{"line":49,"column":102}},"type":"binary-expr","locations":[{"start":{"line":49,"column":43},"end":{"line":49,"column":82}},{"start":{"line":49,"column":86},"end":{"line":49,"column":102}}],"line":49},"18":{"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":132}},"type":"cond-expr","locations":[{"start":{"line":53,"column":121},"end":{"line":53,"column":123}},{"start":{"line":53,"column":126},"end":{"line":53,"column":132}}],"line":53},"19":{"loc":{"start":{"line":53,"column":43},"end":{"line":53,"column":102}},"type":"binary-expr","locations":[{"start":{"line":53,"column":43},"end":{"line":53,"column":82}},{"start":{"line":53,"column":86},"end":{"line":53,"column":102}}],"line":53},"20":{"loc":{"start":{"line":59,"column":30},"end":{"line":59,"column":126}},"type":"cond-expr","locations":[{"start":{"line":59,"column":115},"end":{"line":59,"column":117}},{"start":{"line":59,"column":120},"end":{"line":59,"column":126}}],"line":59},"21":{"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":96}},"type":"binary-expr","locations":[{"start":{"line":59,"column":43},"end":{"line":59,"column":79}},{"start":{"line":59,"column":83},"end":{"line":59,"column":96}}],"line":59},"22":{"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":126}},"type":"cond-expr","locations":[{"start":{"line":65,"column":115},"end":{"line":65,"column":117}},{"start":{"line":65,"column":120},"end":{"line":65,"column":126}}],"line":65},"23":{"loc":{"start":{"line":65,"column":43},"end":{"line":65,"column":96}},"type":"binary-expr","locations":[{"start":{"line":65,"column":43},"end":{"line":65,"column":79}},{"start":{"line":65,"column":83},"end":{"line":65,"column":96}}],"line":65}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":0,"6":0,"7":0,"8":0,"9":10,"10":1,"11":10,"12":10,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":7,"31":1,"32":7,"33":1},"f":{"0":10,"1":10,"2":2,"3":7,"4":7},"b":{"0":[1,1,1],"1":[0,10],"2":[0,10],"3":[10,0],"4":[10,10],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[10,10,0],"10":[1,1,1],"11":[10,0],"12":[10,10],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0]},"inputSourceMap":{"version":3,"file":"Farm.js","sourceRoot":"","sources":["Farm.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA2E;AAC3E,wDAA+B;AAC/B,oDAA2B;AAE3B,MAAqB,IAAK,SAAQ,eAAS;;AAC3B,UAAK,GAAG,OAAO,CAAA;AAE7B;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;gCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;qCACa;AAGtB;IADC,IAAA,YAAM,GAAE;;kCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;qCACa;AAGtB;IADC,IAAA,YAAM,GAAE;;4CACoB;AAG7B;IADC,IAAA,YAAM,GAAE;;mCACW;AAGpB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;uCAAA;AAK1B;IAHC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,iBAAO,EAAE;QACtB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACe,aAAO,oBAAP,aAAO;sCAAgB;AAKxC;IAHC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,eAAK,EAAE;QACpB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACa,aAAO,oBAAP,aAAO;oCAAc;AAlCtC,uBAmCC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column, HasMany, hasMany } from '@ioc:Adonis/Lucid/Orm'\r\nimport Product from './Product'\r\nimport Order from './Order'\r\n\r\nexport default class Farm extends BaseModel {\r\n  public static table = 'farms'\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public id_user: number\r\n\r\n  @column()\r\n  public name: string\r\n\r\n  @column()\r\n  public address: string\r\n\r\n  @column()\r\n  public number_license: string\r\n\r\n  @column()\r\n  public image: string\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @hasMany(() => Product, {\r\n    foreignKey: 'id_farm',\r\n  })\r\n  public products: HasMany<typeof Product>\r\n\r\n  @hasMany(() => Order, {\r\n    foreignKey: 'id_farm',\r\n  })\r\n  public orders: HasMany<typeof Order>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fadd1b1e9991c7e2f8e1dc38ac974dedda8ddc3d"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Order.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Order.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":23},"end":{"line":17,"column":65}},"18":{"start":{"line":18,"column":14},"end":{"line":18,"column":63}},"19":{"start":{"line":19,"column":15},"end":{"line":19,"column":49}},"20":{"start":{"line":20,"column":15},"end":{"line":20,"column":49}},"21":{"start":{"line":23,"column":0},"end":{"line":23,"column":23}},"22":{"start":{"line":24,"column":0},"end":{"line":27,"column":34}},"23":{"start":{"line":28,"column":0},"end":{"line":31,"column":39}},"24":{"start":{"line":32,"column":0},"end":{"line":35,"column":39}},"25":{"start":{"line":36,"column":0},"end":{"line":39,"column":42}},"26":{"start":{"line":40,"column":0},"end":{"line":43,"column":37}},"27":{"start":{"line":44,"column":0},"end":{"line":47,"column":44}},"28":{"start":{"line":48,"column":0},"end":{"line":51,"column":45}},"29":{"start":{"line":52,"column":0},"end":{"line":55,"column":43}},"30":{"start":{"line":56,"column":0},"end":{"line":59,"column":41}},"31":{"start":{"line":60,"column":0},"end":{"line":63,"column":41}},"32":{"start":{"line":64,"column":0},"end":{"line":71,"column":45}},"33":{"start":{"line":65,"column":32},"end":{"line":65,"column":54}},"34":{"start":{"line":72,"column":0},"end":{"line":77,"column":36}},"35":{"start":{"line":73,"column":31},"end":{"line":73,"column":45}},"36":{"start":{"line":78,"column":0},"end":{"line":83,"column":36}},"37":{"start":{"line":79,"column":31},"end":{"line":79,"column":45}},"38":{"start":{"line":84,"column":0},"end":{"line":84,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":65,"column":26},"end":{"line":65,"column":27}},"loc":{"start":{"line":65,"column":32},"end":{"line":65,"column":54}},"line":65},"4":{"name":"(anonymous_4)","decl":{"start":{"line":73,"column":25},"end":{"line":73,"column":26}},"loc":{"start":{"line":73,"column":31},"end":{"line":73,"column":45}},"line":73},"5":{"name":"(anonymous_5)","decl":{"start":{"line":79,"column":25},"end":{"line":79,"column":26}},"loc":{"start":{"line":79,"column":31},"end":{"line":79,"column":45}},"line":79}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":132}},"type":"cond-expr","locations":[{"start":{"line":58,"column":121},"end":{"line":58,"column":123}},{"start":{"line":58,"column":126},"end":{"line":58,"column":132}}],"line":58},"17":{"loc":{"start":{"line":58,"column":43},"end":{"line":58,"column":102}},"type":"binary-expr","locations":[{"start":{"line":58,"column":43},"end":{"line":58,"column":82}},{"start":{"line":58,"column":86},"end":{"line":58,"column":102}}],"line":58},"18":{"loc":{"start":{"line":62,"column":30},"end":{"line":62,"column":132}},"type":"cond-expr","locations":[{"start":{"line":62,"column":121},"end":{"line":62,"column":123}},{"start":{"line":62,"column":126},"end":{"line":62,"column":132}}],"line":62},"19":{"loc":{"start":{"line":62,"column":43},"end":{"line":62,"column":102}},"type":"binary-expr","locations":[{"start":{"line":62,"column":43},"end":{"line":62,"column":82}},{"start":{"line":62,"column":86},"end":{"line":62,"column":102}}],"line":62},"20":{"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":132}},"type":"cond-expr","locations":[{"start":{"line":70,"column":121},"end":{"line":70,"column":123}},{"start":{"line":70,"column":126},"end":{"line":70,"column":132}}],"line":70},"21":{"loc":{"start":{"line":70,"column":43},"end":{"line":70,"column":102}},"type":"binary-expr","locations":[{"start":{"line":70,"column":43},"end":{"line":70,"column":82}},{"start":{"line":70,"column":86},"end":{"line":70,"column":102}}],"line":70},"22":{"loc":{"start":{"line":76,"column":30},"end":{"line":76,"column":130}},"type":"cond-expr","locations":[{"start":{"line":76,"column":119},"end":{"line":76,"column":121}},{"start":{"line":76,"column":124},"end":{"line":76,"column":130}}],"line":76},"23":{"loc":{"start":{"line":76,"column":43},"end":{"line":76,"column":100}},"type":"binary-expr","locations":[{"start":{"line":76,"column":43},"end":{"line":76,"column":81}},{"start":{"line":76,"column":85},"end":{"line":76,"column":100}}],"line":76},"24":{"loc":{"start":{"line":82,"column":30},"end":{"line":82,"column":130}},"type":"cond-expr","locations":[{"start":{"line":82,"column":119},"end":{"line":82,"column":121}},{"start":{"line":82,"column":124},"end":{"line":82,"column":130}}],"line":82},"25":{"loc":{"start":{"line":82,"column":43},"end":{"line":82,"column":100}},"type":"binary-expr","locations":[{"start":{"line":82,"column":43},"end":{"line":82,"column":81}},{"start":{"line":82,"column":85},"end":{"line":82,"column":100}}],"line":82}},"s":{"0":1,"1":13,"2":13,"3":13,"4":13,"5":0,"6":0,"7":0,"8":0,"9":13,"10":1,"11":13,"12":13,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":1,"35":0,"36":1,"37":0,"38":1},"f":{"0":13,"1":13,"2":3,"3":0,"4":0,"5":0},"b":{"0":[1,1,1],"1":[0,13],"2":[0,13],"3":[13,0],"4":[13,13],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[13,13,0],"10":[1,1,1],"11":[13,0],"12":[13,13],"13":[1,1,1],"14":[3,0],"15":[3,3],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0]},"inputSourceMap":{"version":3,"file":"Order.js","sourceRoot":"","sources":["Order.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,kEAAyC;AACzC,gEAO8B;AAC9B,kDAAyB;AACzB,kDAAyB;AAEzB,MAAqB,KAAM,SAAQ,eAAS;;AAC5B,WAAK,GAAG,QAAQ,CAAA;AAE9B;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;iCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;sCACa;AAGtB;IADC,IAAA,YAAM,GAAE;;sCACa;AAGtB;IADC,IAAA,YAAM,GAAE;;yCACgB;AAGzB;IADC,IAAA,YAAM,GAAE;;oCACY;AAGrB;IADC,IAAA,YAAM,GAAE;;2CACkB;AAG3B;IADC,IAAA,YAAM,GAAE;;4CACmB;AAG5B;IADC,IAAA,YAAM,GAAE;;0CACiB;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;wCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;wCAAA;AAO1B;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,sBAAY,EAAE;QAC9B,UAAU,EAAE,eAAe;QAC3B,eAAe,EAAE,UAAU;QAC3B,sBAAsB,EAAE,UAAU;KACnC,CAAC;kDACoB,gBAAU,oBAAV,gBAAU;4CAAqB;AAKrD;IAHC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACrB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACW,eAAS,oBAAT,eAAS;mCAAa;AAKnC;IAHC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACrB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACW,eAAS,oBAAT,eAAS;mCAAa;AA/CrC,wBAgDC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport StockProduct from './StockProduct'\r\nimport {\r\n  BaseModel,\r\n  BelongsTo,\r\n  belongsTo,\r\n  column,\r\n  ManyToMany,\r\n  manyToMany,\r\n} from '@ioc:Adonis/Lucid/Orm'\r\nimport User from './User'\r\nimport Farm from './Farm'\r\n\r\nexport default class Order extends BaseModel {\r\n  public static table = 'orders'\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public id_user: number\r\n\r\n  @column()\r\n  public id_farm: number\r\n\r\n  @column()\r\n  public date_order: string\r\n\r\n  @column()\r\n  public state: boolean\r\n\r\n  @column()\r\n  public service_cost: number\r\n\r\n  @column()\r\n  public shipping_cost: number\r\n\r\n  @column()\r\n  public service_fee: number\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @manyToMany(() => StockProduct, {\r\n    pivotTable: 'items_product',\r\n    pivotForeignKey: 'id_order',\r\n    pivotRelatedForeignKey: 'id_stock',\r\n  })\r\n  public stockProducts: ManyToMany<typeof StockProduct>\r\n\r\n  @belongsTo(() => User, {\r\n    foreignKey: 'id_user',\r\n  })\r\n  public user: BelongsTo<typeof User>\r\n\r\n  @belongsTo(() => Farm, {\r\n    foreignKey: 'id_farm',\r\n  })\r\n  public farm: BelongsTo<typeof Farm>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c18f6ef5f2e74eb34f12207945695a96c3c39f4c"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\StockProduct.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\StockProduct.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":18},"end":{"line":18,"column":55}},"19":{"start":{"line":19,"column":16},"end":{"line":19,"column":51}},"20":{"start":{"line":22,"column":0},"end":{"line":22,"column":37}},"21":{"start":{"line":23,"column":0},"end":{"line":26,"column":41}},"22":{"start":{"line":27,"column":0},"end":{"line":30,"column":44}},"23":{"start":{"line":31,"column":0},"end":{"line":34,"column":45}},"24":{"start":{"line":35,"column":0},"end":{"line":38,"column":48}},"25":{"start":{"line":39,"column":0},"end":{"line":42,"column":49}},"26":{"start":{"line":43,"column":0},"end":{"line":46,"column":48}},"27":{"start":{"line":47,"column":0},"end":{"line":50,"column":48}},"28":{"start":{"line":51,"column":0},"end":{"line":54,"column":49}},"29":{"start":{"line":55,"column":0},"end":{"line":60,"column":46}},"30":{"start":{"line":56,"column":31},"end":{"line":56,"column":48}},"31":{"start":{"line":61,"column":0},"end":{"line":68,"column":45}},"32":{"start":{"line":62,"column":32},"end":{"line":62,"column":47}},"33":{"start":{"line":69,"column":0},"end":{"line":69,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":56,"column":25},"end":{"line":56,"column":26}},"loc":{"start":{"line":56,"column":31},"end":{"line":56,"column":48}},"line":56},"4":{"name":"(anonymous_4)","decl":{"start":{"line":62,"column":26},"end":{"line":62,"column":27}},"loc":{"start":{"line":62,"column":32},"end":{"line":62,"column":47}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":37,"column":30},"end":{"line":37,"column":108}},"type":"cond-expr","locations":[{"start":{"line":37,"column":97},"end":{"line":37,"column":99}},{"start":{"line":37,"column":102},"end":{"line":37,"column":108}}],"line":37},"17":{"loc":{"start":{"line":37,"column":43},"end":{"line":37,"column":78}},"type":"binary-expr","locations":[{"start":{"line":37,"column":43},"end":{"line":37,"column":70}},{"start":{"line":37,"column":74},"end":{"line":37,"column":78}}],"line":37},"18":{"loc":{"start":{"line":45,"column":30},"end":{"line":45,"column":132}},"type":"cond-expr","locations":[{"start":{"line":45,"column":121},"end":{"line":45,"column":123}},{"start":{"line":45,"column":126},"end":{"line":45,"column":132}}],"line":45},"19":{"loc":{"start":{"line":45,"column":43},"end":{"line":45,"column":102}},"type":"binary-expr","locations":[{"start":{"line":45,"column":43},"end":{"line":45,"column":82}},{"start":{"line":45,"column":86},"end":{"line":45,"column":102}}],"line":45},"20":{"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":132}},"type":"cond-expr","locations":[{"start":{"line":49,"column":121},"end":{"line":49,"column":123}},{"start":{"line":49,"column":126},"end":{"line":49,"column":132}}],"line":49},"21":{"loc":{"start":{"line":49,"column":43},"end":{"line":49,"column":102}},"type":"binary-expr","locations":[{"start":{"line":49,"column":43},"end":{"line":49,"column":82}},{"start":{"line":49,"column":86},"end":{"line":49,"column":102}}],"line":49},"22":{"loc":{"start":{"line":59,"column":30},"end":{"line":59,"column":130}},"type":"cond-expr","locations":[{"start":{"line":59,"column":119},"end":{"line":59,"column":121}},{"start":{"line":59,"column":124},"end":{"line":59,"column":130}}],"line":59},"23":{"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":100}},"type":"binary-expr","locations":[{"start":{"line":59,"column":43},"end":{"line":59,"column":81}},{"start":{"line":59,"column":85},"end":{"line":59,"column":100}}],"line":59},"24":{"loc":{"start":{"line":67,"column":30},"end":{"line":67,"column":132}},"type":"cond-expr","locations":[{"start":{"line":67,"column":121},"end":{"line":67,"column":123}},{"start":{"line":67,"column":126},"end":{"line":67,"column":132}}],"line":67},"25":{"loc":{"start":{"line":67,"column":43},"end":{"line":67,"column":102}},"type":"binary-expr","locations":[{"start":{"line":67,"column":43},"end":{"line":67,"column":82}},{"start":{"line":67,"column":86},"end":{"line":67,"column":102}}],"line":67}},"s":{"0":1,"1":10,"2":10,"3":10,"4":10,"5":0,"6":0,"7":0,"8":0,"9":10,"10":1,"11":10,"12":10,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":1,"32":0,"33":1},"f":{"0":10,"1":10,"2":2,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,10],"2":[0,10],"3":[10,0],"4":[10,10],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[10,10,0],"10":[1,1,1],"11":[10,0],"12":[10,10],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0]},"inputSourceMap":{"version":3,"file":"StockProduct.js","sourceRoot":"","sources":["StockProduct.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAO8B;AAC9B,wDAA+B;AAC/B,oDAA2B;AAE3B,MAAqB,YAAa,SAAQ,eAAS;;AACnC,kBAAK,GAAG,eAAe,CAAA;AAGrC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;wCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;2CACW;AAGpB;IADC,IAAA,YAAM,GAAE;;4CACY;AAGrB;IADC,IAAA,YAAM,GAAE;kDACS,IAAI,oBAAJ,IAAI;+CAAA;AAGtB;IADC,IAAA,YAAM,GAAE;;gDACiB;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;+CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;+CAAA;AAG1B;IADC,IAAA,YAAM,GAAE;;gDACgB;AAKzB;IAHC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,iBAAO,EAAE;QACxB,UAAU,EAAE,YAAY;KACzB,CAAC;kDACc,eAAS,oBAAT,eAAS;6CAAgB;AAOzC;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,eAAK,EAAE;QACvB,UAAU,EAAE,eAAe;QAC3B,eAAe,EAAE,UAAU;QAC3B,sBAAsB,EAAE,UAAU;KACnC,CAAC;kDACa,gBAAU,oBAAV,gBAAU;4CAAc;AArCzC,+BAsCC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport {\r\n  BaseModel,\r\n  BelongsTo,\r\n  belongsTo,\r\n  column,\r\n  ManyToMany,\r\n  manyToMany,\r\n} from '@ioc:Adonis/Lucid/Orm'\r\nimport Product from './Product'\r\nimport Order from './Order'\r\n\r\nexport default class StockProduct extends BaseModel {\r\n  public static table = 'stock_product'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public value: number\r\n\r\n  @column()\r\n  public amount: number\r\n\r\n  @column()\r\n  public published: Date\r\n\r\n  @column()\r\n  public visibility: boolean\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @column()\r\n  public id_product: number\r\n\r\n  @belongsTo(() => Product, {\r\n    foreignKey: 'id_product',\r\n  })\r\n  public product: BelongsTo<typeof Product>\r\n\r\n  @manyToMany(() => Order, {\r\n    pivotTable: 'items_product',\r\n    pivotForeignKey: 'id_stock',\r\n    pivotRelatedForeignKey: 'id_order',\r\n  })\r\n  public orders: ManyToMany<typeof Order>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c568b833fe556693fbc76193d8d13268191e96dc"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\User.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\User.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":19,"column":19},"end":{"line":19,"column":57}},"20":{"start":{"line":20,"column":15},"end":{"line":20,"column":81}},"21":{"start":{"line":21,"column":16},"end":{"line":21,"column":51}},"22":{"start":{"line":22,"column":15},"end":{"line":22,"column":49}},"23":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"24":{"start":{"line":26,"column":12},"end":{"line":26,"column":75}},"25":{"start":{"line":30,"column":0},"end":{"line":30,"column":21}},"26":{"start":{"line":31,"column":0},"end":{"line":34,"column":33}},"27":{"start":{"line":35,"column":0},"end":{"line":38,"column":35}},"28":{"start":{"line":39,"column":0},"end":{"line":42,"column":36}},"29":{"start":{"line":43,"column":0},"end":{"line":46,"column":39}},"30":{"start":{"line":47,"column":0},"end":{"line":50,"column":40}},"31":{"start":{"line":51,"column":0},"end":{"line":54,"column":40}},"32":{"start":{"line":55,"column":0},"end":{"line":58,"column":37}},"33":{"start":{"line":59,"column":0},"end":{"line":64,"column":35}},"34":{"start":{"line":60,"column":31},"end":{"line":60,"column":45}},"35":{"start":{"line":65,"column":0},"end":{"line":70,"column":36}},"36":{"start":{"line":66,"column":29},"end":{"line":66,"column":47}},"37":{"start":{"line":71,"column":0},"end":{"line":76,"column":35}},"38":{"start":{"line":72,"column":28},"end":{"line":72,"column":42}},"39":{"start":{"line":77,"column":0},"end":{"line":82,"column":37}},"40":{"start":{"line":78,"column":29},"end":{"line":78,"column":44}},"41":{"start":{"line":83,"column":0},"end":{"line":88,"column":31}},"42":{"start":{"line":89,"column":0},"end":{"line":89,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":39},"end":{"line":28,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":60,"column":25},"end":{"line":60,"column":26}},"loc":{"start":{"line":60,"column":31},"end":{"line":60,"column":45}},"line":60},"5":{"name":"(anonymous_5)","decl":{"start":{"line":66,"column":23},"end":{"line":66,"column":24}},"loc":{"start":{"line":66,"column":29},"end":{"line":66,"column":47}},"line":66},"6":{"name":"(anonymous_6)","decl":{"start":{"line":72,"column":22},"end":{"line":72,"column":23}},"loc":{"start":{"line":72,"column":28},"end":{"line":72,"column":42}},"line":72},"7":{"name":"(anonymous_7)","decl":{"start":{"line":78,"column":23},"end":{"line":78,"column":24}},"loc":{"start":{"line":78,"column":29},"end":{"line":78,"column":44}},"line":78}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},{"start":{"line":25,"column":8},"end":{"line":27,"column":9}}],"line":25},"17":{"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":132}},"type":"cond-expr","locations":[{"start":{"line":49,"column":121},"end":{"line":49,"column":123}},{"start":{"line":49,"column":126},"end":{"line":49,"column":132}}],"line":49},"18":{"loc":{"start":{"line":49,"column":43},"end":{"line":49,"column":102}},"type":"binary-expr","locations":[{"start":{"line":49,"column":43},"end":{"line":49,"column":82}},{"start":{"line":49,"column":86},"end":{"line":49,"column":102}}],"line":49},"19":{"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":132}},"type":"cond-expr","locations":[{"start":{"line":53,"column":121},"end":{"line":53,"column":123}},{"start":{"line":53,"column":126},"end":{"line":53,"column":132}}],"line":53},"20":{"loc":{"start":{"line":53,"column":43},"end":{"line":53,"column":102}},"type":"binary-expr","locations":[{"start":{"line":53,"column":43},"end":{"line":53,"column":82}},{"start":{"line":53,"column":86},"end":{"line":53,"column":102}}],"line":53},"21":{"loc":{"start":{"line":63,"column":30},"end":{"line":63,"column":130}},"type":"cond-expr","locations":[{"start":{"line":63,"column":119},"end":{"line":63,"column":121}},{"start":{"line":63,"column":124},"end":{"line":63,"column":130}}],"line":63},"22":{"loc":{"start":{"line":63,"column":43},"end":{"line":63,"column":100}},"type":"binary-expr","locations":[{"start":{"line":63,"column":43},"end":{"line":63,"column":81}},{"start":{"line":63,"column":85},"end":{"line":63,"column":100}}],"line":63},"23":{"loc":{"start":{"line":69,"column":30},"end":{"line":69,"column":126}},"type":"cond-expr","locations":[{"start":{"line":69,"column":115},"end":{"line":69,"column":117}},{"start":{"line":69,"column":120},"end":{"line":69,"column":126}}],"line":69},"24":{"loc":{"start":{"line":69,"column":43},"end":{"line":69,"column":96}},"type":"binary-expr","locations":[{"start":{"line":69,"column":43},"end":{"line":69,"column":79}},{"start":{"line":69,"column":83},"end":{"line":69,"column":96}}],"line":69},"25":{"loc":{"start":{"line":75,"column":30},"end":{"line":75,"column":124}},"type":"cond-expr","locations":[{"start":{"line":75,"column":113},"end":{"line":75,"column":115}},{"start":{"line":75,"column":118},"end":{"line":75,"column":124}}],"line":75},"26":{"loc":{"start":{"line":75,"column":43},"end":{"line":75,"column":94}},"type":"binary-expr","locations":[{"start":{"line":75,"column":43},"end":{"line":75,"column":78}},{"start":{"line":75,"column":82},"end":{"line":75,"column":94}}],"line":75},"27":{"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":126}},"type":"cond-expr","locations":[{"start":{"line":81,"column":115},"end":{"line":81,"column":117}},{"start":{"line":81,"column":120},"end":{"line":81,"column":126}}],"line":81},"28":{"loc":{"start":{"line":81,"column":43},"end":{"line":81,"column":96}},"type":"binary-expr","locations":[{"start":{"line":81,"column":43},"end":{"line":81,"column":79}},{"start":{"line":81,"column":83},"end":{"line":81,"column":96}}],"line":81}},"s":{"0":1,"1":12,"2":12,"3":12,"4":12,"5":0,"6":0,"7":0,"8":0,"9":12,"10":1,"11":14,"12":14,"13":1,"14":5,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":3,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":7,"35":1,"36":0,"37":1,"38":5,"39":1,"40":5,"41":1,"42":1},"f":{"0":12,"1":14,"2":5,"3":3,"4":7,"5":0,"6":5,"7":5},"b":{"0":[1,1,1],"1":[0,12],"2":[1,11],"3":[12,0],"4":[12,12],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[12,12,1],"10":[1,1,1],"11":[14,0],"12":[14,14],"13":[1,1,1],"14":[4,1],"15":[5,5],"16":[1,2],"17":[1,0],"18":[1,1],"19":[1,0],"20":[1,1],"21":[0,1],"22":[1,0],"23":[0,1],"24":[1,0],"25":[0,1],"26":[1,0],"27":[0,1],"28":[1,0]},"inputSourceMap":{"version":3,"file":"User.js","sourceRoot":"","sources":["User.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAU8B;AAC9B,kDAAwB;AACxB,0DAAiC;AACjC,kFAAwC;AACxC,oDAA2B;AAC3B,kDAAyB;AAEzB,MAAqB,IAAK,SAAQ,eAAS;IA6ClC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,OAAa;QAC5C,IAAI,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE;YAC3B,OAAO,CAAC,QAAQ,GAAG,MAAM,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAA;SACrD;IACH,CAAC;;AAhDa,UAAK,GAAG,OAAO,CAAA;AAG7B;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;gCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;kCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;mCACW;AAGpB;IADC,IAAA,YAAM,GAAE;;sCACc;AAGvB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,IAAA,YAAM,GAAE;;oCACY;AAKrB;IAHC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAG,EAAE;QACpB,UAAU,EAAE,QAAQ;KACrB,CAAC;kDACW,eAAS,oBAAT,eAAS;kCAAY;AAKlC;IAHC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,kBAAQ,EAAE;QACvB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACY,aAAO,oBAAP,aAAO;mCAAiB;AAKtC;IAHC,IAAA,YAAM,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QAClB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACW,YAAM,oBAAN,YAAM;kCAAa;AAKhC;IAHC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,eAAK,EAAE;QACpB,UAAU,EAAE,SAAS;KACtB,CAAC;kDACa,aAAO,oBAAP,aAAO;oCAAc;AAGpC;IADC,IAAA,gBAAU,GAAE;;qCAC6B,IAAI;;8BAI7C;AAjDH,uBAkDC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport {\r\n  BaseModel,\r\n  beforeSave,\r\n  belongsTo,\r\n  BelongsTo,\r\n  column,\r\n  HasMany,\r\n  hasMany,\r\n  HasOne,\r\n  hasOne,\r\n} from '@ioc:Adonis/Lucid/Orm'\r\nimport Rol from './Role'\r\nimport ApiToken from './ApiToken'\r\nimport Hash from '@ioc:Adonis/Core/Hash'\r\nimport Order from './Order'\r\nimport Farm from './Farm'\r\n\r\nexport default class User extends BaseModel {\r\n  public static table = 'users'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public name: string\r\n\r\n  @column()\r\n  public email: string\r\n\r\n  @column()\r\n  public password: string\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @column()\r\n  public id_rol: number\r\n\r\n  @belongsTo(() => Rol, {\r\n    foreignKey: 'id_rol',\r\n  })\r\n  public role: BelongsTo<typeof Rol>\r\n\r\n  @hasMany(() => ApiToken, {\r\n    foreignKey: 'id_user',\r\n  })\r\n  public users: HasMany<typeof ApiToken>\r\n\r\n  @hasOne(() => Farm, {\r\n    foreignKey: 'id_user',\r\n  })\r\n  public farm: HasOne<typeof Farm>\r\n\r\n  @hasMany(() => Order, {\r\n    foreignKey: 'id_user',\r\n  })\r\n  public orders: HasMany<typeof Order>\r\n\r\n  @beforeSave()\r\n  public static async hashPassword(theUser: User) {\r\n    if (theUser.$dirty.password) {\r\n      theUser.password = await Hash.make(theUser.password)\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"59c94ab08ba0e8e4724a8812b260ead3590bceea"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Role.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Role.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":19,"column":21},"end":{"line":19,"column":61}},"20":{"start":{"line":20,"column":17},"end":{"line":20,"column":53}},"21":{"start":{"line":23,"column":0},"end":{"line":23,"column":20}},"22":{"start":{"line":24,"column":0},"end":{"line":27,"column":32}},"23":{"start":{"line":28,"column":0},"end":{"line":31,"column":34}},"24":{"start":{"line":32,"column":0},"end":{"line":35,"column":39}},"25":{"start":{"line":36,"column":0},"end":{"line":39,"column":39}},"26":{"start":{"line":40,"column":0},"end":{"line":45,"column":35}},"27":{"start":{"line":41,"column":29},"end":{"line":41,"column":43}},"28":{"start":{"line":46,"column":0},"end":{"line":53,"column":41}},"29":{"start":{"line":47,"column":32},"end":{"line":47,"column":52}},"30":{"start":{"line":54,"column":0},"end":{"line":61,"column":37}},"31":{"start":{"line":55,"column":32},"end":{"line":55,"column":48}},"32":{"start":{"line":62,"column":0},"end":{"line":62,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":41,"column":23},"end":{"line":41,"column":24}},"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":43}},"line":41},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":26},"end":{"line":47,"column":27}},"loc":{"start":{"line":47,"column":32},"end":{"line":47,"column":52}},"line":47},"5":{"name":"(anonymous_5)","decl":{"start":{"line":55,"column":26},"end":{"line":55,"column":27}},"loc":{"start":{"line":55,"column":32},"end":{"line":55,"column":48}},"line":55}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":34,"column":30},"end":{"line":34,"column":132}},"type":"cond-expr","locations":[{"start":{"line":34,"column":121},"end":{"line":34,"column":123}},{"start":{"line":34,"column":126},"end":{"line":34,"column":132}}],"line":34},"17":{"loc":{"start":{"line":34,"column":43},"end":{"line":34,"column":102}},"type":"binary-expr","locations":[{"start":{"line":34,"column":43},"end":{"line":34,"column":82}},{"start":{"line":34,"column":86},"end":{"line":34,"column":102}}],"line":34},"18":{"loc":{"start":{"line":38,"column":30},"end":{"line":38,"column":132}},"type":"cond-expr","locations":[{"start":{"line":38,"column":121},"end":{"line":38,"column":123}},{"start":{"line":38,"column":126},"end":{"line":38,"column":132}}],"line":38},"19":{"loc":{"start":{"line":38,"column":43},"end":{"line":38,"column":102}},"type":"binary-expr","locations":[{"start":{"line":38,"column":43},"end":{"line":38,"column":82}},{"start":{"line":38,"column":86},"end":{"line":38,"column":102}}],"line":38},"20":{"loc":{"start":{"line":44,"column":30},"end":{"line":44,"column":126}},"type":"cond-expr","locations":[{"start":{"line":44,"column":115},"end":{"line":44,"column":117}},{"start":{"line":44,"column":120},"end":{"line":44,"column":126}}],"line":44},"21":{"loc":{"start":{"line":44,"column":43},"end":{"line":44,"column":96}},"type":"binary-expr","locations":[{"start":{"line":44,"column":43},"end":{"line":44,"column":79}},{"start":{"line":44,"column":83},"end":{"line":44,"column":96}}],"line":44},"22":{"loc":{"start":{"line":52,"column":30},"end":{"line":52,"column":132}},"type":"cond-expr","locations":[{"start":{"line":52,"column":121},"end":{"line":52,"column":123}},{"start":{"line":52,"column":126},"end":{"line":52,"column":132}}],"line":52},"23":{"loc":{"start":{"line":52,"column":43},"end":{"line":52,"column":102}},"type":"binary-expr","locations":[{"start":{"line":52,"column":43},"end":{"line":52,"column":82}},{"start":{"line":52,"column":86},"end":{"line":52,"column":102}}],"line":52},"24":{"loc":{"start":{"line":60,"column":30},"end":{"line":60,"column":132}},"type":"cond-expr","locations":[{"start":{"line":60,"column":121},"end":{"line":60,"column":123}},{"start":{"line":60,"column":126},"end":{"line":60,"column":132}}],"line":60},"25":{"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":102}},"type":"binary-expr","locations":[{"start":{"line":60,"column":43},"end":{"line":60,"column":82}},{"start":{"line":60,"column":86},"end":{"line":60,"column":102}}],"line":60}},"s":{"0":1,"1":7,"2":7,"3":7,"4":7,"5":0,"6":0,"7":0,"8":0,"9":7,"10":1,"11":7,"12":7,"13":1,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":1,"29":4,"30":1,"31":0,"32":1},"f":{"0":7,"1":7,"2":3,"3":0,"4":4,"5":0},"b":{"0":[1,1,1],"1":[0,7],"2":[0,7],"3":[7,0],"4":[7,7],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[7,7,0],"10":[1,1,1],"11":[7,0],"12":[7,7],"13":[1,1,1],"14":[3,0],"15":[3,3],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0]},"inputSourceMap":{"version":3,"file":"Role.js","sourceRoot":"","sources":["Role.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAmG;AACnG,kDAAyB;AACzB,8DAAqC;AACrC,sDAA6B;AAE7B,MAAqB,GAAI,SAAQ,eAAS;;AAC1B,SAAK,GAAG,OAAO,CAAA;AAG7B;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;+BACX;AAGjB;IADC,IAAA,YAAM,GAAE;;iCACU;AAGnB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;sCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;sCAAA;AAK1B;IAHC,IAAA,aAAO,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACnB,UAAU,EAAE,QAAQ;KACrB,CAAC;kDACY,aAAO,oBAAP,aAAO;kCAAa;AAOlC;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,oBAAU,EAAE;QAC5B,UAAU,EAAE,mBAAmB;QAC/B,eAAe,EAAE,QAAQ;QACzB,sBAAsB,EAAE,eAAe;KACxC,CAAC;kDACkB,gBAAU,oBAAV,gBAAU;wCAAmB;AAOjD;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACxB,UAAU,EAAE,cAAc;QAC1B,eAAe,EAAE,SAAS;QAC1B,sBAAsB,EAAE,WAAW;KACpC,CAAC;kDACc,gBAAU,oBAAV,gBAAU;oCAAe;AAhC3C,sBAiCC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column, HasMany, hasMany, ManyToMany, manyToMany } from '@ioc:Adonis/Lucid/Orm'\r\nimport User from './User'\r\nimport Permission from './Permission'\r\nimport Module from './Module'\r\n\r\nexport default class Rol extends BaseModel {\r\n  public static table = 'roles'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public name: string\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @hasMany(() => User, {\r\n    foreignKey: 'id_rol',\r\n  })\r\n  public users: HasMany<typeof User>\r\n\r\n  @manyToMany(() => Permission, {\r\n    pivotTable: 'permissions_roles',\r\n    pivotForeignKey: 'id_rol',\r\n    pivotRelatedForeignKey: 'id_permission',\r\n  })\r\n  public permissions: ManyToMany<typeof Permission>\r\n\r\n  @manyToMany(() => Module, {\r\n    pivotTable: 'role_modules',\r\n    pivotForeignKey: 'id_role',\r\n    pivotRelatedForeignKey: 'id_module',\r\n  })\r\n  public modules: ManyToMany<typeof Module>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b0a2f8f3e1e5ec387926bd2ff2830db4ec9a94ad"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Permission.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Permission.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":21,"column":0},"end":{"line":21,"column":33}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":39}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":40}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":43}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":46}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":46}},"25":{"start":{"line":42,"column":0},"end":{"line":49,"column":42}},"26":{"start":{"line":43,"column":32},"end":{"line":43,"column":46}},"27":{"start":{"line":50,"column":0},"end":{"line":50,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":43,"column":26},"end":{"line":43,"column":27}},"loc":{"start":{"line":43,"column":32},"end":{"line":43,"column":46}},"line":43}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":132}},"type":"cond-expr","locations":[{"start":{"line":36,"column":121},"end":{"line":36,"column":123}},{"start":{"line":36,"column":126},"end":{"line":36,"column":132}}],"line":36},"17":{"loc":{"start":{"line":36,"column":43},"end":{"line":36,"column":102}},"type":"binary-expr","locations":[{"start":{"line":36,"column":43},"end":{"line":36,"column":82}},{"start":{"line":36,"column":86},"end":{"line":36,"column":102}}],"line":36},"18":{"loc":{"start":{"line":40,"column":30},"end":{"line":40,"column":132}},"type":"cond-expr","locations":[{"start":{"line":40,"column":121},"end":{"line":40,"column":123}},{"start":{"line":40,"column":126},"end":{"line":40,"column":132}}],"line":40},"19":{"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":102}},"type":"binary-expr","locations":[{"start":{"line":40,"column":43},"end":{"line":40,"column":82}},{"start":{"line":40,"column":86},"end":{"line":40,"column":102}}],"line":40},"20":{"loc":{"start":{"line":48,"column":30},"end":{"line":48,"column":132}},"type":"cond-expr","locations":[{"start":{"line":48,"column":121},"end":{"line":48,"column":123}},{"start":{"line":48,"column":126},"end":{"line":48,"column":132}}],"line":48},"21":{"loc":{"start":{"line":48,"column":43},"end":{"line":48,"column":102}},"type":"binary-expr","locations":[{"start":{"line":48,"column":43},"end":{"line":48,"column":82}},{"start":{"line":48,"column":86},"end":{"line":48,"column":102}}],"line":48}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":0,"6":0,"7":0,"8":0,"9":6,"10":1,"11":6,"12":6,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":1},"f":{"0":6,"1":6,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,6],"2":[0,6],"3":[6,0],"4":[6,6],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[6,6,0],"10":[1,1,1],"11":[6,0],"12":[6,6],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0]},"inputSourceMap":{"version":3,"file":"Permission.js","sourceRoot":"","sources":["Permission.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAiF;AACjF,kDAAwB;AAExB,MAAqB,UAAW,SAAQ,eAAS;;AACjC,gBAAK,GAAG,aAAa,CAAA;AAGnC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;sCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;uCACS;AAGlB;IADC,IAAA,YAAM,GAAE;;0CACY;AAGrB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;6CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;6CAAA;AAO1B;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,cAAG,EAAE;QACrB,UAAU,EAAE,mBAAmB;QAC/B,eAAe,EAAE,eAAe;QAChC,sBAAsB,EAAE,QAAQ;KACjC,CAAC;kDACY,gBAAU,oBAAV,gBAAU;yCAAY;AAvBtC,6BAwBC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column, ManyToMany, manyToMany } from '@ioc:Adonis/Lucid/Orm'\r\nimport Rol from './Role'\r\n\r\nexport default class Permission extends BaseModel {\r\n  public static table = 'permissions'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public url: string\r\n\r\n  @column()\r\n  public method: string\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @manyToMany(() => Rol, {\r\n    pivotTable: 'permissions_roles',\r\n    pivotForeignKey: 'id_permission',\r\n    pivotRelatedForeignKey: 'id_rol',\r\n  })\r\n  public roles: ManyToMany<typeof Rol>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3fa1e92fe2f9b525618e3a83209e3c798d43b7eb"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Module.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Module.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":19,"column":15},"end":{"line":19,"column":49}},"20":{"start":{"line":22,"column":0},"end":{"line":22,"column":25}},"21":{"start":{"line":23,"column":0},"end":{"line":26,"column":35}},"22":{"start":{"line":27,"column":0},"end":{"line":30,"column":37}},"23":{"start":{"line":31,"column":0},"end":{"line":34,"column":44}},"24":{"start":{"line":35,"column":0},"end":{"line":38,"column":37}},"25":{"start":{"line":39,"column":0},"end":{"line":42,"column":37}},"26":{"start":{"line":43,"column":0},"end":{"line":46,"column":42}},"27":{"start":{"line":47,"column":0},"end":{"line":50,"column":42}},"28":{"start":{"line":51,"column":0},"end":{"line":58,"column":38}},"29":{"start":{"line":52,"column":32},"end":{"line":52,"column":46}},"30":{"start":{"line":59,"column":0},"end":{"line":66,"column":38}},"31":{"start":{"line":60,"column":32},"end":{"line":60,"column":46}},"32":{"start":{"line":67,"column":0},"end":{"line":67,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":52,"column":26},"end":{"line":52,"column":27}},"loc":{"start":{"line":52,"column":32},"end":{"line":52,"column":46}},"line":52},"4":{"name":"(anonymous_4)","decl":{"start":{"line":60,"column":26},"end":{"line":60,"column":27}},"loc":{"start":{"line":60,"column":32},"end":{"line":60,"column":46}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":45,"column":30},"end":{"line":45,"column":132}},"type":"cond-expr","locations":[{"start":{"line":45,"column":121},"end":{"line":45,"column":123}},{"start":{"line":45,"column":126},"end":{"line":45,"column":132}}],"line":45},"17":{"loc":{"start":{"line":45,"column":43},"end":{"line":45,"column":102}},"type":"binary-expr","locations":[{"start":{"line":45,"column":43},"end":{"line":45,"column":82}},{"start":{"line":45,"column":86},"end":{"line":45,"column":102}}],"line":45},"18":{"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":132}},"type":"cond-expr","locations":[{"start":{"line":49,"column":121},"end":{"line":49,"column":123}},{"start":{"line":49,"column":126},"end":{"line":49,"column":132}}],"line":49},"19":{"loc":{"start":{"line":49,"column":43},"end":{"line":49,"column":102}},"type":"binary-expr","locations":[{"start":{"line":49,"column":43},"end":{"line":49,"column":82}},{"start":{"line":49,"column":86},"end":{"line":49,"column":102}}],"line":49},"20":{"loc":{"start":{"line":57,"column":30},"end":{"line":57,"column":132}},"type":"cond-expr","locations":[{"start":{"line":57,"column":121},"end":{"line":57,"column":123}},{"start":{"line":57,"column":126},"end":{"line":57,"column":132}}],"line":57},"21":{"loc":{"start":{"line":57,"column":43},"end":{"line":57,"column":102}},"type":"binary-expr","locations":[{"start":{"line":57,"column":43},"end":{"line":57,"column":82}},{"start":{"line":57,"column":86},"end":{"line":57,"column":102}}],"line":57},"22":{"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":132}},"type":"cond-expr","locations":[{"start":{"line":65,"column":121},"end":{"line":65,"column":123}},{"start":{"line":65,"column":126},"end":{"line":65,"column":132}}],"line":65},"23":{"loc":{"start":{"line":65,"column":43},"end":{"line":65,"column":102}},"type":"binary-expr","locations":[{"start":{"line":65,"column":43},"end":{"line":65,"column":82}},{"start":{"line":65,"column":86},"end":{"line":65,"column":102}}],"line":65}},"s":{"0":1,"1":9,"2":9,"3":9,"4":9,"5":0,"6":0,"7":0,"8":0,"9":9,"10":1,"11":9,"12":9,"13":1,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":4,"30":1,"31":0,"32":1},"f":{"0":9,"1":9,"2":2,"3":4,"4":0},"b":{"0":[1,1,1],"1":[0,9],"2":[0,9],"3":[9,0],"4":[9,9],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[9,9,0],"10":[1,1,1],"11":[9,0],"12":[9,9],"13":[1,1,1],"14":[2,0],"15":[2,2],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0],"22":[0,1],"23":[1,0]},"inputSourceMap":{"version":3,"file":"Module.js","sourceRoot":"","sources":["Module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAiF;AACjF,kDAAyB;AACzB,kDAAwB;AAExB,MAAqB,MAAO,SAAQ,eAAS;;AAC7B,YAAK,GAAG,SAAS,CAAA;AAE/B;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;kCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;oCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;2CACiB;AAG1B;IADC,IAAA,YAAM,GAAE;;oCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;oCACU;AAGnB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;yCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;yCAAA;AAO1B;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACtB,UAAU,EAAE,cAAc;QAC1B,eAAe,EAAE,WAAW;QAC5B,sBAAsB,EAAE,SAAS;KAClC,CAAC;kDACY,gBAAU,oBAAV,gBAAU;qCAAa;AAOrC;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,cAAG,EAAE;QACrB,UAAU,EAAE,cAAc;QAC1B,eAAe,EAAE,WAAW;QAC5B,sBAAsB,EAAE,SAAS;KAClC,CAAC;kDACY,gBAAU,oBAAV,gBAAU;qCAAY;AAnCtC,yBAoCC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column, ManyToMany, manyToMany } from '@ioc:Adonis/Lucid/Orm'\r\nimport Menu from './Menu'\r\nimport Rol from './Role'\r\n\r\nexport default class Module extends BaseModel {\r\n  public static table = 'modules'\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public name: string\r\n\r\n  @column()\r\n  public description: string\r\n\r\n  @column()\r\n  public path: string\r\n\r\n  @column()\r\n  public icon: string\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @manyToMany(() => Menu, {\r\n    pivotTable: 'module_menus',\r\n    pivotForeignKey: 'id_module',\r\n    pivotRelatedForeignKey: 'id_menu',\r\n  })\r\n  public menus: ManyToMany<typeof Menu>\r\n\r\n  @manyToMany(() => Rol, {\r\n    pivotTable: 'role_modules',\r\n    pivotForeignKey: 'id_module',\r\n    pivotRelatedForeignKey: 'id_role',\r\n  })\r\n  public roles: ManyToMany<typeof Rol>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"92ebc5143a43dae086d625a3a192b05ca1e019f3"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Menu.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\Menu.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":53}},"19":{"start":{"line":21,"column":0},"end":{"line":21,"column":21}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":33}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":35}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":42}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":35}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":35}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":42}},"26":{"start":{"line":46,"column":0},"end":{"line":49,"column":44}},"27":{"start":{"line":50,"column":0},"end":{"line":53,"column":44}},"28":{"start":{"line":54,"column":0},"end":{"line":57,"column":44}},"29":{"start":{"line":58,"column":0},"end":{"line":61,"column":40}},"30":{"start":{"line":62,"column":0},"end":{"line":65,"column":40}},"31":{"start":{"line":66,"column":0},"end":{"line":73,"column":38}},"32":{"start":{"line":67,"column":32},"end":{"line":67,"column":48}},"33":{"start":{"line":74,"column":0},"end":{"line":74,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":67,"column":26},"end":{"line":67,"column":27}},"loc":{"start":{"line":67,"column":32},"end":{"line":67,"column":48}},"line":67}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":60,"column":30},"end":{"line":60,"column":132}},"type":"cond-expr","locations":[{"start":{"line":60,"column":121},"end":{"line":60,"column":123}},{"start":{"line":60,"column":126},"end":{"line":60,"column":132}}],"line":60},"17":{"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":102}},"type":"binary-expr","locations":[{"start":{"line":60,"column":43},"end":{"line":60,"column":82}},{"start":{"line":60,"column":86},"end":{"line":60,"column":102}}],"line":60},"18":{"loc":{"start":{"line":64,"column":30},"end":{"line":64,"column":132}},"type":"cond-expr","locations":[{"start":{"line":64,"column":121},"end":{"line":64,"column":123}},{"start":{"line":64,"column":126},"end":{"line":64,"column":132}}],"line":64},"19":{"loc":{"start":{"line":64,"column":43},"end":{"line":64,"column":102}},"type":"binary-expr","locations":[{"start":{"line":64,"column":43},"end":{"line":64,"column":82}},{"start":{"line":64,"column":86},"end":{"line":64,"column":102}}],"line":64},"20":{"loc":{"start":{"line":72,"column":30},"end":{"line":72,"column":132}},"type":"cond-expr","locations":[{"start":{"line":72,"column":121},"end":{"line":72,"column":123}},{"start":{"line":72,"column":126},"end":{"line":72,"column":132}}],"line":72},"21":{"loc":{"start":{"line":72,"column":43},"end":{"line":72,"column":102}},"type":"binary-expr","locations":[{"start":{"line":72,"column":43},"end":{"line":72,"column":82}},{"start":{"line":72,"column":86},"end":{"line":72,"column":102}}],"line":72}},"s":{"0":1,"1":12,"2":12,"3":12,"4":12,"5":0,"6":0,"7":0,"8":0,"9":12,"10":1,"11":12,"12":12,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":0,"33":1},"f":{"0":12,"1":12,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,12],"2":[0,12],"3":[12,0],"4":[12,12],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[12,12,0],"10":[1,1,1],"11":[12,0],"12":[12,12],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0]},"inputSourceMap":{"version":3,"file":"Menu.js","sourceRoot":"","sources":["Menu.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAiF;AACjF,sDAA6B;AAE7B,MAAqB,IAAK,SAAQ,eAAS;;AAC3B,UAAK,GAAG,OAAO,CAAA;AAG7B;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;gCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;kCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;yCACiB;AAG1B;IADC,IAAA,YAAM,GAAE;;kCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;kCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;yCACkB;AAG3B;IADC,IAAA,YAAM,GAAE;;2CACoB;AAG7B;IADC,IAAA,YAAM,GAAE;;2CACoB;AAG7B;IADC,IAAA,YAAM,GAAE;;2CACoB;AAG7B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;uCAAA;AAO1B;IALC,IAAA,gBAAU,EAAC,GAAG,EAAE,CAAC,gBAAM,EAAE;QACxB,UAAU,EAAE,cAAc;QAC1B,eAAe,EAAE,SAAS;QAC1B,sBAAsB,EAAE,WAAW;KACpC,CAAC;kDACc,gBAAU,oBAAV,gBAAU;qCAAe;AAzC3C,uBA0CC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column, ManyToMany, manyToMany } from '@ioc:Adonis/Lucid/Orm'\r\nimport Module from './Module'\r\n\r\nexport default class Menu extends BaseModel {\r\n  public static table = 'menus'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public name: string\r\n\r\n  @column()\r\n  public description: string\r\n\r\n  @column()\r\n  public path: string\r\n\r\n  @column()\r\n  public icon: string\r\n\r\n  @column()\r\n  public read_action: boolean\r\n\r\n  @column()\r\n  public create_action: boolean\r\n\r\n  @column()\r\n  public update_action: boolean\r\n\r\n  @column()\r\n  public delete_action: boolean\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @manyToMany(() => Module, {\r\n    pivotTable: 'module_menus',\r\n    pivotForeignKey: 'id_menu',\r\n    pivotRelatedForeignKey: 'id_module',\r\n  })\r\n  public modules: ManyToMany<typeof Module>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"277cb895112911ec4dcf90904f215076217cb3e3"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\ApiToken.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\ApiToken.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}},"20":{"start":{"line":22,"column":0},"end":{"line":25,"column":37}},"21":{"start":{"line":26,"column":0},"end":{"line":29,"column":42}},"22":{"start":{"line":30,"column":0},"end":{"line":33,"column":39}},"23":{"start":{"line":34,"column":0},"end":{"line":37,"column":39}},"24":{"start":{"line":38,"column":0},"end":{"line":41,"column":40}},"25":{"start":{"line":42,"column":0},"end":{"line":45,"column":44}},"26":{"start":{"line":46,"column":0},"end":{"line":49,"column":44}},"27":{"start":{"line":50,"column":0},"end":{"line":55,"column":38}},"28":{"start":{"line":51,"column":31},"end":{"line":51,"column":45}},"29":{"start":{"line":56,"column":0},"end":{"line":56,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":51,"column":25},"end":{"line":51,"column":26}},"loc":{"start":{"line":51,"column":31},"end":{"line":51,"column":45}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":44,"column":30},"end":{"line":44,"column":132}},"type":"cond-expr","locations":[{"start":{"line":44,"column":121},"end":{"line":44,"column":123}},{"start":{"line":44,"column":126},"end":{"line":44,"column":132}}],"line":44},"17":{"loc":{"start":{"line":44,"column":43},"end":{"line":44,"column":102}},"type":"binary-expr","locations":[{"start":{"line":44,"column":43},"end":{"line":44,"column":82}},{"start":{"line":44,"column":86},"end":{"line":44,"column":102}}],"line":44},"18":{"loc":{"start":{"line":48,"column":30},"end":{"line":48,"column":132}},"type":"cond-expr","locations":[{"start":{"line":48,"column":121},"end":{"line":48,"column":123}},{"start":{"line":48,"column":126},"end":{"line":48,"column":132}}],"line":48},"19":{"loc":{"start":{"line":48,"column":43},"end":{"line":48,"column":102}},"type":"binary-expr","locations":[{"start":{"line":48,"column":43},"end":{"line":48,"column":82}},{"start":{"line":48,"column":86},"end":{"line":48,"column":102}}],"line":48},"20":{"loc":{"start":{"line":54,"column":30},"end":{"line":54,"column":130}},"type":"cond-expr","locations":[{"start":{"line":54,"column":119},"end":{"line":54,"column":121}},{"start":{"line":54,"column":124},"end":{"line":54,"column":130}}],"line":54},"21":{"loc":{"start":{"line":54,"column":43},"end":{"line":54,"column":100}},"type":"binary-expr","locations":[{"start":{"line":54,"column":43},"end":{"line":54,"column":81}},{"start":{"line":54,"column":85},"end":{"line":54,"column":100}}],"line":54}},"s":{"0":1,"1":8,"2":8,"3":8,"4":8,"5":0,"6":0,"7":0,"8":0,"9":8,"10":1,"11":8,"12":8,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":1},"f":{"0":8,"1":8,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,8],"2":[0,8],"3":[8,0],"4":[8,8],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[8,8,0],"10":[1,1,1],"11":[8,0],"12":[8,8],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[1,0],"17":[1,1],"18":[1,0],"19":[1,1],"20":[0,1],"21":[1,0]},"inputSourceMap":{"version":3,"file":"ApiToken.js","sourceRoot":"","sources":["ApiToken.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA+E;AAC/E,kDAAyB;AAEzB,MAAqB,QAAS,SAAQ,eAAS;;AAC/B,cAAK,GAAG,YAAY,CAAA;AAGlC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;oCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;yCACa;AAGtB;IADC,IAAA,YAAM,GAAE;;sCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;sCACU;AAGnB;IADC,IAAA,YAAM,GAAE;;uCACW;AAGpB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;2CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;2CAAA;AAK1B;IAHC,IAAA,eAAS,EAAC,GAAG,EAAE,CAAC,cAAI,EAAE;QACrB,QAAQ,EAAE,SAAS;KACpB,CAAC;kDACU,eAAS,oBAAT,eAAS;qCAAa;AA3BpC,2BA4BC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, BelongsTo, belongsTo, column } from '@ioc:Adonis/Lucid/Orm'\r\nimport User from './User'\r\n\r\nexport default class ApiToken extends BaseModel {\r\n  public static table = 'api_tokens'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public id_user: number\r\n\r\n  @column()\r\n  public name: string\r\n\r\n  @column()\r\n  public type: string\r\n\r\n  @column()\r\n  public token: string\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @belongsTo(() => User, {\r\n    localKey: 'id_user',\r\n  })\r\n  public rol: BelongsTo<typeof User>\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a35dd1f1b5bba3b2673ae5cbc84e519b87758d5b"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Exceptions\\Handler.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Exceptions\\Handler.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":85}},"4":{"start":{"line":7,"column":31},"end":{"line":7,"column":113}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":32}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":11,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":50,"6":1},"f":{"0":2,"1":50},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"Handler.js","sourceRoot":"","sources":["Handler.ts"],"names":[],"mappings":";;;;;AAeA,sFAA4C;AAC5C,kHAAwE;AAExE,MAAqB,gBAAiB,SAAQ,8BAAoB;IAChE;QACE,KAAK,CAAC,gBAAM,CAAC,CAAA;IACf,CAAC;CACF;AAJD,mCAIC","sourcesContent":["/*\r\n|--------------------------------------------------------------------------\r\n| Http Exception Handler\r\n|--------------------------------------------------------------------------\r\n|\r\n| AdonisJs will forward all exceptions occurred during an HTTP request to\r\n| the following class. You can learn more about exception handling by\r\n| reading docs.\r\n|\r\n| The exception handler extends a base `HttpExceptionHandler` which is not\r\n| mandatory, however it can do lot of heavy lifting to handle the errors\r\n| properly.\r\n|\r\n*/\r\n\r\nimport Logger from '@ioc:Adonis/Core/Logger'\r\nimport HttpExceptionHandler from '@ioc:Adonis/Core/HttpExceptionHandler'\r\n\r\nexport default class ExceptionHandler extends HttpExceptionHandler {\r\n  constructor() {\r\n    super(Logger)\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"76f311639a9a368222666ee2d8c8f71a18cd6639"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\FarmsController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\FarmsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":95}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":48}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":21}},"7":{"start":{"line":14,"column":22},"end":{"line":14,"column":93}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":23}},"9":{"start":{"line":18,"column":20},"end":{"line":18,"column":48}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":21}},"11":{"start":{"line":22,"column":20},"end":{"line":22,"column":76}},"12":{"start":{"line":23,"column":8},"end":{"line":23,"column":21}},"13":{"start":{"line":26,"column":22},"end":{"line":26,"column":43}},"14":{"start":{"line":27,"column":21},"end":{"line":27,"column":35}},"15":{"start":{"line":28,"column":24},"end":{"line":31,"column":10}},"16":{"start":{"line":32,"column":8},"end":{"line":41,"column":9}},"17":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"18":{"start":{"line":34,"column":16},"end":{"line":37,"column":19}},"19":{"start":{"line":38,"column":16},"end":{"line":38,"column":69}},"20":{"start":{"line":39,"column":16},"end":{"line":39,"column":37}},"21":{"start":{"line":42,"column":8},"end":{"line":42,"column":23}},"22":{"start":{"line":45,"column":22},"end":{"line":45,"column":111}},"23":{"start":{"line":46,"column":8},"end":{"line":46,"column":23}},"24":{"start":{"line":49,"column":22},"end":{"line":49,"column":81}},"25":{"start":{"line":50,"column":8},"end":{"line":50,"column":23}},"26":{"start":{"line":53,"column":21},"end":{"line":53,"column":35}},"27":{"start":{"line":54,"column":24},"end":{"line":54,"column":66}},"28":{"start":{"line":55,"column":8},"end":{"line":55,"column":33}},"29":{"start":{"line":56,"column":8},"end":{"line":56,"column":39}},"30":{"start":{"line":57,"column":8},"end":{"line":57,"column":53}},"31":{"start":{"line":58,"column":8},"end":{"line":58,"column":35}},"32":{"start":{"line":59,"column":8},"end":{"line":59,"column":30}},"33":{"start":{"line":62,"column":24},"end":{"line":62,"column":66}},"34":{"start":{"line":63,"column":8},"end":{"line":63,"column":32}},"35":{"start":{"line":66,"column":0},"end":{"line":66,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":25},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":35},"end":{"line":16,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":21},"end":{"line":20,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":29},"end":{"line":24,"column":5}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":29},"end":{"line":43,"column":5}},"line":25},"6":{"name":"(anonymous_6)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":27},"end":{"line":47,"column":5}},"line":44},"7":{"name":"(anonymous_7)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":33},"end":{"line":51,"column":5}},"line":48},"8":{"name":"(anonymous_8)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":38},"end":{"line":60,"column":5}},"line":52},"9":{"name":"(anonymous_9)","decl":{"start":{"line":61,"column":4},"end":{"line":61,"column":5}},"loc":{"start":{"line":61,"column":30},"end":{"line":64,"column":5}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":32,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":41,"column":9}},{"start":{"line":32,"column":8},"end":{"line":41,"column":9}}],"line":32},"4":{"loc":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},{"start":{"line":33,"column":12},"end":{"line":40,"column":13}}],"line":33},"5":{"loc":{"start":{"line":38,"column":32},"end":{"line":38,"column":68}},"type":"cond-expr","locations":[{"start":{"line":38,"column":49},"end":{"line":38,"column":63}},{"start":{"line":38,"column":66},"end":{"line":38,"column":68}}],"line":38}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":3,"23":3,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1},"f":{"0":2,"1":0,"2":0,"3":1,"4":1,"5":0,"6":3,"7":0,"8":0,"9":0},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"FarmsController.js","sourceRoot":"","sources":["FarmsController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Farm from 'App/Models/Farm'\r\nimport { schema, rules } from '@ioc:Adonis/Core/Validator'\r\nimport Application from '@ioc:Adonis/Core/Application'\r\n\r\nexport default class FarmsController {\r\n  // lista las fincas\r\n\r\n  public async listFarms(ctx: HttpContextContract) {\r\n    let farms: Farm[] = await Farm.query()\r\n    return farms\r\n  }\r\n\r\n  // lista los productos de una finca especifica\r\n\r\n  public async listProducts({ params }: HttpContextContract) {\r\n    let theFarm = await Farm.query().where('id', params.id).preload('products')\r\n\r\n    return theFarm\r\n  }\r\n\r\n  /**\r\n   * Lista todos las fincas con sus ordenes y productos asociados\r\n   */\r\n\r\n  public async index(ctx: HttpContextContract) {\r\n    let farms: Farm[] = await Farm.query()\r\n    return farms\r\n  }\r\n\r\n  public async farmer({ params }: HttpContextContract) {\r\n    let farms: Farm[] = await Farm.query().where('id_user', params.id)\r\n    return farms\r\n  }\r\n\r\n  /**\r\n   * Almacena la información de una finca\r\n   */\r\n\r\n  public async store({ request }: HttpContextContract) {\r\n    const image = request.file('image')\r\n    const body = request.body()\r\n    const newFarm = await Farm.create({\r\n      ...body,\r\n      image: '',\r\n    })\r\n    if (newFarm) {\r\n      if (image) {\r\n        await image.move(Application.resourcesPath('farms'), {\r\n          name: `${newFarm.id}_${newFarm.id_user}.${image.extname}`,\r\n          overwrite: true,\r\n        })\r\n        newFarm.image = image.fileName ? image.fileName : ''\r\n        await newFarm.save()\r\n      }\r\n    }\r\n\r\n    return newFarm\r\n  }\r\n\r\n  /**\r\n   * Muestra la información de una sola finca\r\n   */\r\n  public async show({ params }: HttpContextContract) {\r\n    let theFarm = await Farm.query().where('id', params.id).preload('orders').preload('products')\r\n\r\n    return theFarm\r\n  }\r\n\r\n  // Muestra la información de una finca buscada\r\n\r\n  public async searchFarm({ params }: HttpContextContract) {\r\n    let theFarm = await Farm.query().where('nombre', params.nombre)\r\n\r\n    return theFarm\r\n  }\r\n\r\n  /**\r\n   * Actualiza la información de una finca basado\r\n   * en el identificador y nuevos parámetros\r\n   */\r\n\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const theFarm = await Farm.findOrFail(params.id)\r\n    theFarm.name = body.name\r\n    theFarm.address = body.address\r\n    theFarm.number_license = body.number_license\r\n    theFarm.image = body.image\r\n    return theFarm.save()\r\n  }\r\n\r\n  /**\r\n   * Elimina una finca basado en el identificador\r\n   */\r\n  public async destroy({ params }: HttpContextContract) {\r\n    const theFarm = await Farm.findOrFail(params.id)\r\n    return theFarm.delete()\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"124deeb25f30252fb69d070758b5d6deef72b8be"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\MenusController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\MenusController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":9,"column":20},"end":{"line":9,"column":48}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":21}},"6":{"start":{"line":13,"column":21},"end":{"line":13,"column":35}},"7":{"start":{"line":14,"column":24},"end":{"line":14,"column":57}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":30}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":52}},"10":{"start":{"line":21,"column":21},"end":{"line":21,"column":35}},"11":{"start":{"line":22,"column":24},"end":{"line":22,"column":66}},"12":{"start":{"line":23,"column":8},"end":{"line":23,"column":33}},"13":{"start":{"line":24,"column":8},"end":{"line":24,"column":30}},"14":{"start":{"line":27,"column":24},"end":{"line":27,"column":66}},"15":{"start":{"line":28,"column":8},"end":{"line":28,"column":32}},"16":{"start":{"line":31,"column":0},"end":{"line":31,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":21},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":29},"end":{"line":16,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":27},"end":{"line":19,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":38},"end":{"line":25,"column":5}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":30},"end":{"line":29,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":1,"13":1,"14":2,"15":1,"16":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"MenusController.js","sourceRoot":"","sources":["MenusController.ts"],"names":[],"mappings":";;;;;AACA,iFAAkC;AAElC,MAAqB,eAAe;IAC3B,KAAK,CAAC,KAAK,CAAC,GAAwB;QACzC,IAAI,KAAK,GAAW,MAAM,cAAI,CAAC,KAAK,EAAE,CAAA;QACtC,OAAO,KAAK,CAAA;IACd,CAAC;IAEM,KAAK,CAAC,KAAK,CAAC,EAAE,OAAO,EAAuB;QACjD,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAA;QAC3B,MAAM,OAAO,GAAS,MAAM,cAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAC7C,OAAO,OAAO,CAAC,IAAI,EAAE,CAAA;IACvB,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAuB;QAC/C,OAAO,cAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;IACnC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAuB;QAC1D,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAA;QAC3B,MAAM,OAAO,GAAS,MAAM,cAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACtD,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QACxB,OAAO,OAAO,CAAC,IAAI,EAAE,CAAA;IACvB,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,EAAE,MAAM,EAAuB;QAClD,MAAM,OAAO,GAAS,MAAM,cAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACtD,OAAO,OAAO,CAAC,MAAM,EAAE,CAAA;IACzB,CAAC;CACF;AA3BD,kCA2BC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Menu from 'App/Models/Menu'\r\n\r\nexport default class MenusController {\r\n  public async index(ctx: HttpContextContract) {\r\n    let menus: Menu[] = await Menu.query()\r\n    return menus\r\n  }\r\n\r\n  public async store({ request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const newMenu: Menu = await Menu.create(body)\r\n    return newMenu.save()\r\n  }\r\n\r\n  public async show({ params }: HttpContextContract) {\r\n    return Menu.findOrFail(params.id)\r\n  }\r\n\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const theMenu: Menu = await Menu.findOrFail(params.id)\r\n    theMenu.name = body.name\r\n    return theMenu.save()\r\n  }\r\n\r\n  public async destroy({ params }: HttpContextContract) {\r\n    const theMenu: Menu = await Menu.findOrFail(params.id)\r\n    return theMenu.delete()\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a8edab2afca4dcaf6824295991e63b9d78a787ee"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\ModulesController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\ModulesController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":90}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":84}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":92}},"6":{"start":{"line":11,"column":22},"end":{"line":11,"column":69}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":23}},"8":{"start":{"line":15,"column":20},"end":{"line":18,"column":43}},"9":{"start":{"line":19,"column":8},"end":{"line":21,"column":10}},"10":{"start":{"line":24,"column":21},"end":{"line":24,"column":35}},"11":{"start":{"line":25,"column":24},"end":{"line":25,"column":59}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":23}},"13":{"start":{"line":29,"column":8},"end":{"line":29,"column":54}},"14":{"start":{"line":32,"column":21},"end":{"line":32,"column":35}},"15":{"start":{"line":33,"column":26},"end":{"line":33,"column":70}},"16":{"start":{"line":34,"column":8},"end":{"line":34,"column":35}},"17":{"start":{"line":35,"column":8},"end":{"line":35,"column":32}},"18":{"start":{"line":38,"column":54},"end":{"line":38,"column":68}},"19":{"start":{"line":39,"column":30},"end":{"line":43,"column":10}},"20":{"start":{"line":44,"column":8},"end":{"line":44,"column":29}},"21":{"start":{"line":47,"column":54},"end":{"line":47,"column":68}},"22":{"start":{"line":48,"column":30},"end":{"line":51,"column":21}},"23":{"start":{"line":52,"column":8},"end":{"line":52,"column":29}},"24":{"start":{"line":55,"column":8},"end":{"line":63,"column":9}},"25":{"start":{"line":56,"column":30},"end":{"line":56,"column":74}},"26":{"start":{"line":57,"column":12},"end":{"line":57,"column":38}},"27":{"start":{"line":60,"column":12},"end":{"line":62,"column":14}},"28":{"start":{"line":66,"column":20},"end":{"line":73,"column":30}},"29":{"start":{"line":74,"column":8},"end":{"line":79,"column":9}},"30":{"start":{"line":75,"column":12},"end":{"line":78,"column":14}},"31":{"start":{"line":80,"column":8},"end":{"line":80,"column":26}},"32":{"start":{"line":83,"column":0},"end":{"line":83,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":21},"end":{"line":13,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":28},"end":{"line":22,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":29},"end":{"line":27,"column":5}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":27},"end":{"line":30,"column":5}},"line":28},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":38},"end":{"line":36,"column":5}},"line":31},"6":{"name":"(anonymous_6)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":34},"end":{"line":45,"column":5}},"line":37},"7":{"name":"(anonymous_7)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":36},"end":{"line":53,"column":5}},"line":46},"8":{"name":"(anonymous_8)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":30},"end":{"line":64,"column":5}},"line":54},"9":{"name":"(anonymous_9)","decl":{"start":{"line":65,"column":4},"end":{"line":65,"column":5}},"loc":{"start":{"line":65,"column":38},"end":{"line":81,"column":5}},"line":65}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":74,"column":8},"end":{"line":79,"column":9}},"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":79,"column":9}},{"start":{"line":74,"column":8},"end":{"line":79,"column":9}}],"line":74},"4":{"loc":{"start":{"line":74,"column":12},"end":{"line":74,"column":33}},"type":"binary-expr","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":18}},{"start":{"line":74,"column":22},"end":{"line":74,"column":33}}],"line":74}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":1,"12":1,"13":2,"14":2,"15":2,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":2,"25":2,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":1},"f":{"0":3,"1":1,"2":0,"3":1,"4":2,"5":2,"6":0,"7":0,"8":2,"9":0},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"ModulesController.js","sourceRoot":"","sources":["ModulesController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Database from '@ioc:Adonis/Lucid/Database'\r\nimport Module from 'App/Models/Module'\r\nimport ModuleMenu from 'App/Models/ModuleMenu'\r\n\r\nexport default class ModulesController {\r\n  public async index(ctx: HttpContextContract) {\r\n    let modules: Module[] = await Module.query().preload('menus')\r\n    return modules\r\n  }\r\n\r\n  public async menus({ params }: HttpContextContract) {\r\n    let menus = await Module.query()\r\n      .join('module_menus', 'modules.id', 'module_menus.id_module')\r\n      .join('menus', 'module_menus.id_menu', 'menus.id')\r\n      .where('modules.id', params.id)\r\n    return {\r\n      menus,\r\n    }\r\n  }\r\n\r\n  public async store({ request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const newRole: Module = await Module.create(body)\r\n    return newRole\r\n  }\r\n\r\n  public async show({ params }: HttpContextContract) {\r\n    return Module.findOrFail(params.id)\r\n  }\r\n\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const theModule: Module = await Module.findOrFail(params.id)\r\n    theModule.name = body.name\r\n    return theModule.save()\r\n  }\r\n\r\n  public async assignMenu({ request }: HttpContextContract) {\r\n    const { parent: id_module, child: id_menu } = request.body()\r\n    const theRoleModule = await ModuleMenu.create({\r\n      id_module,\r\n      id_menu,\r\n      index: 0,\r\n    })\r\n    return theRoleModule\r\n  }\r\n\r\n  public async unassignMenu({ request }: HttpContextContract) {\r\n    const { parent: id_module, child: id_menu } = request.body()\r\n    const theRoleModule = await ModuleMenu.query()\r\n      .where('id_module', id_module)\r\n      .where('id_menu', id_menu)\r\n      .delete()\r\n    return theRoleModule\r\n  }\r\n\r\n  public async destroy({ params }: HttpContextContract) {\r\n    try {\r\n      const theModule: Module = await Module.findOrFail(params.id)\r\n      return theModule.delete()\r\n    } catch (e) {\r\n      return {\r\n        error: 'El módulo tiene menus asociados',\r\n      }\r\n    }\r\n  }\r\n\r\n  public async showAssignMenus({ params }: HttpContextContract) {\r\n    let menus = await Database.rawQuery(\r\n      `select\r\n          m.id,\r\n          m.name,\r\n          CASE WHEN mm.id_menu IS NULL THEN false ELSE true END checked\r\n        from\r\n        (select id_menu from module_menus\r\n        where id_module = ${params.id}) mm right join menus m\r\n        on mm.id_menu = m.id`\r\n    )\r\n    if (!menus || !menus.rows) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no encontrado',\r\n      }\r\n    }\r\n    return menus.rows\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fdcaea855de7a6a51bac35867757f0afbb5d625b"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\ModuleMenu.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\ModuleMenu.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"14":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}},"15":{"start":{"line":14,"column":14},"end":{"line":14,"column":63}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}},"17":{"start":{"line":18,"column":0},"end":{"line":21,"column":39}},"18":{"start":{"line":22,"column":0},"end":{"line":25,"column":46}},"19":{"start":{"line":26,"column":0},"end":{"line":29,"column":44}},"20":{"start":{"line":30,"column":0},"end":{"line":33,"column":42}},"21":{"start":{"line":34,"column":0},"end":{"line":37,"column":46}},"22":{"start":{"line":38,"column":0},"end":{"line":41,"column":46}},"23":{"start":{"line":42,"column":0},"end":{"line":42,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":132}},"type":"cond-expr","locations":[{"start":{"line":36,"column":121},"end":{"line":36,"column":123}},{"start":{"line":36,"column":126},"end":{"line":36,"column":132}}],"line":36},"14":{"loc":{"start":{"line":36,"column":43},"end":{"line":36,"column":102}},"type":"binary-expr","locations":[{"start":{"line":36,"column":43},"end":{"line":36,"column":82}},{"start":{"line":36,"column":86},"end":{"line":36,"column":102}}],"line":36},"15":{"loc":{"start":{"line":40,"column":30},"end":{"line":40,"column":132}},"type":"cond-expr","locations":[{"start":{"line":40,"column":121},"end":{"line":40,"column":123}},{"start":{"line":40,"column":126},"end":{"line":40,"column":132}}],"line":40},"16":{"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":102}},"type":"binary-expr","locations":[{"start":{"line":40,"column":43},"end":{"line":40,"column":82}},{"start":{"line":40,"column":86},"end":{"line":40,"column":102}}],"line":40}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":0,"6":0,"7":0,"8":0,"9":6,"10":1,"11":6,"12":6,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":6,"1":6},"b":{"0":[1,1,1],"1":[0,6],"2":[0,6],"3":[6,0],"4":[6,6],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[6,6,0],"10":[1,1,1],"11":[6,0],"12":[6,6],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,1]},"inputSourceMap":{"version":3,"file":"ModuleMenu.js","sourceRoot":"","sources":["ModuleMenu.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyD;AAEzD,MAAqB,UAAW,SAAQ,eAAS;;AACjC,gBAAK,GAAG,cAAc,CAAA;AAEpC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;sCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;6CACe;AAGxB;IADC,IAAA,YAAM,GAAE;;2CACa;AAGtB;IADC,IAAA,YAAM,GAAE;;yCACW;AAGpB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;6CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;6CAAA;AAlB5B,6BAmBC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column } from '@ioc:Adonis/Lucid/Orm'\r\n\r\nexport default class ModuleMenu extends BaseModel {\r\n  public static table = 'module_menus'\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public id_module: number\r\n\r\n  @column()\r\n  public id_menu: number\r\n\r\n  @column()\r\n  public index: number\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"29ca65f0a1aa859d14ad89f8bf287321297a867c"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\PermissionsController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\PermissionsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":92}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":74}},"5":{"start":{"line":10,"column":26},"end":{"line":10,"column":60}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":27}},"7":{"start":{"line":14,"column":21},"end":{"line":19,"column":10}},"8":{"start":{"line":20,"column":8},"end":{"line":34,"column":9}},"9":{"start":{"line":21,"column":34},"end":{"line":23,"column":24}},"10":{"start":{"line":24,"column":12},"end":{"line":33,"column":13}},"11":{"start":{"line":25,"column":38},"end":{"line":25,"column":77}},"12":{"start":{"line":26,"column":16},"end":{"line":26,"column":37}},"13":{"start":{"line":29,"column":16},"end":{"line":32,"column":18}},"14":{"start":{"line":37,"column":30},"end":{"line":37,"column":72}},"15":{"start":{"line":38,"column":8},"end":{"line":38,"column":29}},"16":{"start":{"line":41,"column":30},"end":{"line":41,"column":72}},"17":{"start":{"line":42,"column":8},"end":{"line":60,"column":9}},"18":{"start":{"line":43,"column":25},"end":{"line":48,"column":14}},"19":{"start":{"line":49,"column":12},"end":{"line":53,"column":13}},"20":{"start":{"line":50,"column":16},"end":{"line":50,"column":45}},"21":{"start":{"line":51,"column":16},"end":{"line":51,"column":51}},"22":{"start":{"line":52,"column":16},"end":{"line":52,"column":44}},"23":{"start":{"line":56,"column":12},"end":{"line":59,"column":14}},"24":{"start":{"line":63,"column":30},"end":{"line":63,"column":78}},"25":{"start":{"line":64,"column":8},"end":{"line":64,"column":38}},"26":{"start":{"line":67,"column":0},"end":{"line":67,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":21},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":35,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":27},"end":{"line":39,"column":5}},"line":36},"4":{"name":"(anonymous_4)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":38},"end":{"line":61,"column":5}},"line":40},"5":{"name":"(anonymous_5)","decl":{"start":{"line":62,"column":4},"end":{"line":62,"column":5}},"loc":{"start":{"line":62,"column":30},"end":{"line":65,"column":5}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":20,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":34,"column":9}},{"start":{"line":20,"column":8},"end":{"line":34,"column":9}}],"line":20},"4":{"loc":{"start":{"line":24,"column":12},"end":{"line":33,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":33,"column":13}},{"start":{"line":24,"column":12},"end":{"line":33,"column":13}}],"line":24},"5":{"loc":{"start":{"line":42,"column":8},"end":{"line":60,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":60,"column":9}},{"start":{"line":42,"column":8},"end":{"line":60,"column":9}}],"line":42},"6":{"loc":{"start":{"line":49,"column":12},"end":{"line":53,"column":13}},"type":"if","locations":[{"start":{"line":49,"column":12},"end":{"line":53,"column":13}},{"start":{"line":49,"column":12},"end":{"line":53,"column":13}}],"line":49}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":2,"15":2,"16":3,"17":3,"18":2,"19":1,"20":1,"21":1,"22":1,"23":1,"24":2,"25":1,"26":1},"f":{"0":1,"1":1,"2":3,"3":2,"4":3,"5":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[2,0],"4":[1,1],"5":[2,1],"6":[1,0]},"inputSourceMap":{"version":3,"file":"PermissionsController.js","sourceRoot":"","sources":["PermissionsController.ts"],"names":[],"mappings":";;;;;AACA,6FAA8C;AAC9C,2EAA0D;AAE1D,MAAqB,qBAAqB;IAIjC,KAAK,CAAC,KAAK,CAAC,GAAwB;QACzC,IAAI,WAAW,GAAiB,MAAM,oBAAU,CAAC,KAAK,EAAE,CAAA;QACxD,OAAO,WAAW,CAAA;IACpB,CAAC;IAIM,KAAK,CAAC,KAAK,CAAC,EAAE,OAAO,EAAuB;QACjD,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC;YAClC,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC;gBACpB,GAAG,EAAE,kBAAM,CAAC,MAAM,CAAC,CAAC,iBAAK,CAAC,IAAI,EAAE,EAAE,iBAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACpD,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC,CAAC,iBAAK,CAAC,IAAI,EAAE,EAAE,iBAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;aACxD,CAAC;SACH,CAAC,CAAA;QACF,IAAI,IAAI,EAAE;YACR,MAAM,aAAa,GAAG,MAAM,oBAAU,CAAC,KAAK,EAAE;iBAC3C,OAAO,CAAC,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;iBACrD,KAAK,EAAE,CAAA;YACV,IAAI,CAAC,aAAa,EAAE;gBAClB,MAAM,aAAa,GAAe,MAAM,oBAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;gBAC/D,OAAO,aAAa,CAAA;aACrB;iBAAM;gBACL,OAAO;oBACL,MAAM,EAAE,OAAO;oBACf,OAAO,EAAE,mBAAmB;iBAC7B,CAAA;aACF;SACF;IACH,CAAC;IAIM,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAuB;QAC/C,MAAM,aAAa,GAAG,oBAAU,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACtD,OAAO,aAAa,CAAA;IACtB,CAAC;IAKM,KAAK,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAuB;QAC1D,MAAM,aAAa,GAAG,MAAM,oBAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACtD,IAAI,aAAa,EAAE;YACjB,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC;gBAClC,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC;oBACpB,GAAG,EAAE,kBAAM,CAAC,MAAM,CAAC,CAAC,iBAAK,CAAC,IAAI,EAAE,EAAE,iBAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;oBACpD,MAAM,EAAE,kBAAM,CAAC,MAAM,CAAC,CAAC,iBAAK,CAAC,IAAI,EAAE,EAAE,iBAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;iBACxD,CAAC;aACH,CAAC,CAAA;YACF,IAAI,IAAI,EAAE;gBACR,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAA;gBAC5B,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA;gBAClC,OAAO,aAAa,CAAC,IAAI,EAAE,CAAA;aAC5B;SACF;aAAM;YACL,OAAO;gBACL,MAAM,EAAE,OAAO;gBACf,OAAO,EAAE,uBAAuB;aACjC,CAAA;SACF;IACH,CAAC;IAIM,KAAK,CAAC,OAAO,CAAC,EAAE,MAAM,EAAuB;QAClD,MAAM,aAAa,GAAe,MAAM,oBAAU,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACxE,OAAO,aAAa,CAAC,MAAM,EAAE,CAAA;IAC/B,CAAC;CACF;AAxED,wCAwEC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Permission from 'App/Models/Permission'\r\nimport { schema, rules } from '@ioc:Adonis/Core/Validator'\r\n\r\nexport default class PermissionsController {\r\n  /**\r\n   * Lista todos los usuarios\r\n   */\r\n  public async index(ctx: HttpContextContract) {\r\n    let permissions: Permission[] = await Permission.query()\r\n    return permissions\r\n  }\r\n  /**\r\n   * Almacena la información de un usuario\r\n   */\r\n  public async store({ request }: HttpContextContract) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        url: schema.string([rules.trim(), rules.required()]),\r\n        method: schema.string([rules.trim(), rules.required()]),\r\n      }),\r\n    })\r\n    if (post) {\r\n      const thePermission = await Permission.query()\r\n        .whereIn(['url', 'method'], [[post.url, post.method]])\r\n        .first()\r\n      if (!thePermission) {\r\n        const newPermission: Permission = await Permission.create(post)\r\n        return newPermission\r\n      } else {\r\n        return {\r\n          status: 'error',\r\n          message: 'Permiso ya creado',\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Muestra la información de un solo usuario\r\n   */\r\n  public async show({ params }: HttpContextContract) {\r\n    const thePermission = Permission.findOrFail(params.id)\r\n    return thePermission\r\n  }\r\n  /**\r\n   * Actualiza la información de un usuario basado\r\n   * en el identificador y nuevos parámetros\r\n   */\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const thePermission = await Permission.find(params.id)\r\n    if (thePermission) {\r\n      const post = await request.validate({\r\n        schema: schema.create({\r\n          url: schema.string([rules.trim(), rules.required()]),\r\n          method: schema.string([rules.trim(), rules.required()]),\r\n        }),\r\n      })\r\n      if (post) {\r\n        thePermission.url = post.url\r\n        thePermission.method = post.method\r\n        return thePermission.save()\r\n      }\r\n    } else {\r\n      return {\r\n        status: 'error',\r\n        message: 'Permiso no encontrado',\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Elimina a un usuario basado en el identificador\r\n   */\r\n  public async destroy({ params }: HttpContextContract) {\r\n    const thePermission: Permission = await Permission.findOrFail(params.id)\r\n    return thePermission.delete()\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bf26569e6e1daf0f513b40bd1bc1d103cc839daa"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\PermissionsRolesController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\PermissionsRolesController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":24},"end":{"line":6,"column":98}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":74}},"5":{"start":{"line":10,"column":30},"end":{"line":10,"column":67}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":31}},"7":{"start":{"line":14,"column":21},"end":{"line":20,"column":10}},"8":{"start":{"line":21,"column":8},"end":{"line":35,"column":9}},"9":{"start":{"line":22,"column":38},"end":{"line":24,"column":24}},"10":{"start":{"line":25,"column":12},"end":{"line":34,"column":13}},"11":{"start":{"line":26,"column":42},"end":{"line":26,"column":84}},"12":{"start":{"line":27,"column":16},"end":{"line":27,"column":41}},"13":{"start":{"line":30,"column":16},"end":{"line":33,"column":18}},"14":{"start":{"line":38,"column":34},"end":{"line":38,"column":79}},"15":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"16":{"start":{"line":42,"column":34},"end":{"line":42,"column":85}},"17":{"start":{"line":43,"column":8},"end":{"line":57,"column":9}},"18":{"start":{"line":44,"column":25},"end":{"line":50,"column":14}},"19":{"start":{"line":51,"column":12},"end":{"line":56,"column":13}},"20":{"start":{"line":52,"column":16},"end":{"line":52,"column":55}},"21":{"start":{"line":53,"column":16},"end":{"line":53,"column":69}},"22":{"start":{"line":54,"column":16},"end":{"line":54,"column":61}},"23":{"start":{"line":55,"column":16},"end":{"line":55,"column":48}},"24":{"start":{"line":60,"column":34},"end":{"line":60,"column":85}},"25":{"start":{"line":61,"column":8},"end":{"line":61,"column":42}},"26":{"start":{"line":64,"column":34},"end":{"line":64,"column":85}},"27":{"start":{"line":65,"column":8},"end":{"line":72,"column":9}},"28":{"start":{"line":66,"column":12},"end":{"line":66,"column":47}},"29":{"start":{"line":67,"column":12},"end":{"line":67,"column":37}},"30":{"start":{"line":68,"column":12},"end":{"line":71,"column":14}},"31":{"start":{"line":73,"column":8},"end":{"line":76,"column":10}},"32":{"start":{"line":79,"column":34},"end":{"line":79,"column":85}},"33":{"start":{"line":80,"column":8},"end":{"line":87,"column":9}},"34":{"start":{"line":81,"column":12},"end":{"line":81,"column":48}},"35":{"start":{"line":82,"column":12},"end":{"line":82,"column":37}},"36":{"start":{"line":83,"column":12},"end":{"line":86,"column":14}},"37":{"start":{"line":88,"column":8},"end":{"line":91,"column":10}},"38":{"start":{"line":94,"column":0},"end":{"line":94,"column":45}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":21},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":36,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":27},"end":{"line":40,"column":5}},"line":37},"4":{"name":"(anonymous_4)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":38},"end":{"line":58,"column":5}},"line":41},"5":{"name":"(anonymous_5)","decl":{"start":{"line":59,"column":4},"end":{"line":59,"column":5}},"loc":{"start":{"line":59,"column":30},"end":{"line":62,"column":5}},"line":59},"6":{"name":"(anonymous_6)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":31},"end":{"line":77,"column":5}},"line":63},"7":{"name":"(anonymous_7)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":30},"end":{"line":92,"column":5}},"line":78}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":21,"column":8},"end":{"line":35,"column":9}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":35,"column":9}},{"start":{"line":21,"column":8},"end":{"line":35,"column":9}}],"line":21},"4":{"loc":{"start":{"line":25,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":34,"column":13}},{"start":{"line":25,"column":12},"end":{"line":34,"column":13}}],"line":25},"5":{"loc":{"start":{"line":43,"column":8},"end":{"line":57,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":57,"column":9}},{"start":{"line":43,"column":8},"end":{"line":57,"column":9}}],"line":43},"6":{"loc":{"start":{"line":51,"column":12},"end":{"line":56,"column":13}},"type":"if","locations":[{"start":{"line":51,"column":12},"end":{"line":56,"column":13}},{"start":{"line":51,"column":12},"end":{"line":56,"column":13}}],"line":51},"7":{"loc":{"start":{"line":65,"column":8},"end":{"line":72,"column":9}},"type":"if","locations":[{"start":{"line":65,"column":8},"end":{"line":72,"column":9}},{"start":{"line":65,"column":8},"end":{"line":72,"column":9}}],"line":65},"8":{"loc":{"start":{"line":80,"column":8},"end":{"line":87,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":87,"column":9}},{"start":{"line":80,"column":8},"end":{"line":87,"column":9}}],"line":80}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":2,"15":2,"16":3,"17":2,"18":2,"19":1,"20":1,"21":1,"22":1,"23":1,"24":2,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":1,"1":1,"2":3,"3":2,"4":3,"5":2,"6":0,"7":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[2,0],"4":[1,1],"5":[2,0],"6":[1,0],"7":[0,0],"8":[0,0]},"inputSourceMap":{"version":3,"file":"PermissionsRolesController.js","sourceRoot":"","sources":["PermissionsRolesController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport PermissionRol from 'App/Models/PermissionRol'\r\nimport { schema, rules } from '@ioc:Adonis/Core/Validator'\r\n\r\nexport default class PermissionsRolesController {\r\n  /**\r\n   * Lista todos los usuarios\r\n   */\r\n  public async index(ctx: HttpContextContract) {\r\n    let permissionRoles: PermissionRol[] = await PermissionRol.query()\r\n    return permissionRoles\r\n  }\r\n  /**\r\n   * Almacena la información de un usuario\r\n   */\r\n  public async store({ request }: HttpContextContract) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        id_rol: schema.number([rules.required()]),\r\n        id_permission: schema.number([rules.required()]),\r\n        activated: schema.boolean([rules.required()]),\r\n      }),\r\n    })\r\n    if (post) {\r\n      const thePermissionRole = await PermissionRol.query()\r\n        .whereIn(['id_rol', 'id_permission'], [[post.id_rol, post.id_permission]])\r\n        .first()\r\n      if (!thePermissionRole) {\r\n        const newPermissionRole: PermissionRol = await PermissionRol.create(post)\r\n        return newPermissionRole\r\n      } else {\r\n        return {\r\n          status: 'error',\r\n          message: 'PermisoRol ya creado',\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Muestra la información de un solo usuario\r\n   */\r\n  public async show({ params }: HttpContextContract) {\r\n    const thePermissionRole = PermissionRol.findOrFail(params.id)\r\n    return thePermissionRole\r\n  }\r\n  /**\r\n   * Actualiza la información de un usuario basado\r\n   * en el identificador y nuevos parámetros\r\n   */\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const thePermissionRole: PermissionRol = await PermissionRol.findOrFail(params.id)\r\n    if (thePermissionRole) {\r\n      const post = await request.validate({\r\n        schema: schema.create({\r\n          id_rol: schema.number([rules.required()]),\r\n          id_permission: schema.number([rules.required()]),\r\n          activated: schema.boolean([rules.required()]),\r\n        }),\r\n      })\r\n      if (post) {\r\n        thePermissionRole.id_rol = post.id_rol\r\n        thePermissionRole.id_permission = post.id_permission\r\n        thePermissionRole.activated = post.activated\r\n        return thePermissionRole.save()\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Elimina a un usuario basado en el identificador\r\n   */\r\n  public async destroy({ params }: HttpContextContract) {\r\n    const thePermissionRole: PermissionRol = await PermissionRol.findOrFail(params.id)\r\n    return thePermissionRole.delete()\r\n  }\r\n\r\n  public async activate({ params }: HttpContextContract) {\r\n    const thePermissionRole: PermissionRol = await PermissionRol.findOrFail(params.id)\r\n    if (thePermissionRole.activated === false) {\r\n      thePermissionRole.activated = true\r\n      thePermissionRole.save()\r\n      return {\r\n        status: 'success',\r\n        message: 'PermisoRol activado',\r\n      }\r\n    }\r\n    return {\r\n      status: 'error',\r\n      message: 'PermisoRol ya se encuentra activado',\r\n    }\r\n  }\r\n\r\n  public async suspend({ params }: HttpContextContract) {\r\n    const thePermissionRole: PermissionRol = await PermissionRol.findOrFail(params.id)\r\n    if (thePermissionRole.activated === true) {\r\n      thePermissionRole.activated = false\r\n      thePermissionRole.save()\r\n      return {\r\n        status: 'success',\r\n        message: 'PermisoRol Suspendido',\r\n      }\r\n    }\r\n    return {\r\n      status: 'error',\r\n      message: 'PermisoRol ya se encuentra Suspendido',\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"95d8bb327a0066e03dd897afa92e10ed6f1e024f"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\PermissionRol.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\PermissionRol.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"14":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}},"15":{"start":{"line":14,"column":14},"end":{"line":14,"column":63}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":42}},"17":{"start":{"line":18,"column":0},"end":{"line":21,"column":42}},"18":{"start":{"line":22,"column":0},"end":{"line":25,"column":46}},"19":{"start":{"line":26,"column":0},"end":{"line":29,"column":53}},"20":{"start":{"line":30,"column":0},"end":{"line":33,"column":49}},"21":{"start":{"line":34,"column":0},"end":{"line":37,"column":49}},"22":{"start":{"line":38,"column":0},"end":{"line":41,"column":49}},"23":{"start":{"line":42,"column":0},"end":{"line":42,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":32,"column":30},"end":{"line":32,"column":132}},"type":"cond-expr","locations":[{"start":{"line":32,"column":121},"end":{"line":32,"column":123}},{"start":{"line":32,"column":126},"end":{"line":32,"column":132}}],"line":32},"14":{"loc":{"start":{"line":32,"column":43},"end":{"line":32,"column":102}},"type":"binary-expr","locations":[{"start":{"line":32,"column":43},"end":{"line":32,"column":82}},{"start":{"line":32,"column":86},"end":{"line":32,"column":102}}],"line":32},"15":{"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":132}},"type":"cond-expr","locations":[{"start":{"line":36,"column":121},"end":{"line":36,"column":123}},{"start":{"line":36,"column":126},"end":{"line":36,"column":132}}],"line":36},"16":{"loc":{"start":{"line":36,"column":43},"end":{"line":36,"column":102}},"type":"binary-expr","locations":[{"start":{"line":36,"column":43},"end":{"line":36,"column":82}},{"start":{"line":36,"column":86},"end":{"line":36,"column":102}}],"line":36}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":0,"6":0,"7":0,"8":0,"9":6,"10":1,"11":6,"12":6,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":6,"1":6},"b":{"0":[1,1,1],"1":[0,6],"2":[0,6],"3":[6,0],"4":[6,6],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[6,6,0],"10":[1,1,1],"11":[6,0],"12":[6,6],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,1]},"inputSourceMap":{"version":3,"file":"PermissionRol.js","sourceRoot":"","sources":["PermissionRol.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyD;AAEzD,MAAqB,aAAc,SAAQ,eAAS;;AACpC,mBAAK,GAAG,mBAAmB,CAAA;AAGzC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;yCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;6CACY;AAGrB;IADC,IAAA,YAAM,GAAE;;oDACmB;AAG5B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;gDAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;gDAAA;AAG1B;IADC,IAAA,YAAM,GAAE;;gDACgB;AAnB3B,gCAoBC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column } from '@ioc:Adonis/Lucid/Orm'\r\n\r\nexport default class PermissionRol extends BaseModel {\r\n  public static table = 'permissions_roles'\r\n\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public id_rol: number\r\n\r\n  @column()\r\n  public id_permission: number\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n\r\n  @column()\r\n  public activated: boolean\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"747e7b04e2b48cb163bfb5ec8f85c924a565535c"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\ProductsController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\ProductsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":90}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":86}},"5":{"start":{"line":10,"column":23},"end":{"line":10,"column":90}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":24}},"7":{"start":{"line":14,"column":21},"end":{"line":14,"column":35}},"8":{"start":{"line":15,"column":27},"end":{"line":15,"column":63}},"9":{"start":{"line":16,"column":8},"end":{"line":16,"column":26}},"10":{"start":{"line":19,"column":25},"end":{"line":23,"column":37}},"11":{"start":{"line":24,"column":8},"end":{"line":24,"column":26}},"12":{"start":{"line":27,"column":26},"end":{"line":31,"column":34}},"13":{"start":{"line":32,"column":8},"end":{"line":37,"column":9}},"14":{"start":{"line":33,"column":12},"end":{"line":36,"column":14}},"15":{"start":{"line":38,"column":8},"end":{"line":38,"column":32}},"16":{"start":{"line":41,"column":21},"end":{"line":41,"column":35}},"17":{"start":{"line":42,"column":27},"end":{"line":42,"column":72}},"18":{"start":{"line":43,"column":8},"end":{"line":43,"column":36}},"19":{"start":{"line":44,"column":8},"end":{"line":44,"column":42}},"20":{"start":{"line":45,"column":8},"end":{"line":45,"column":50}},"21":{"start":{"line":46,"column":8},"end":{"line":46,"column":33}},"22":{"start":{"line":49,"column":27},"end":{"line":49,"column":72}},"23":{"start":{"line":50,"column":8},"end":{"line":50,"column":35}},"24":{"start":{"line":53,"column":0},"end":{"line":53,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":21},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":17,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":27},"end":{"line":25,"column":5}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":29},"end":{"line":39,"column":5}},"line":26},"5":{"name":"(anonymous_5)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":38},"end":{"line":47,"column":5}},"line":40},"6":{"name":"(anonymous_6)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":30},"end":{"line":51,"column":5}},"line":48}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":32,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":37,"column":9}},{"start":{"line":32,"column":8},"end":{"line":37,"column":9}}],"line":32},"4":{"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":45}},"type":"binary-expr","locations":[{"start":{"line":32,"column":12},"end":{"line":32,"column":24}},{"start":{"line":32,"column":28},"end":{"line":32,"column":45}}],"line":32}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":2,"17":2,"18":1,"19":1,"20":1,"21":1,"22":2,"23":1,"24":1},"f":{"0":2,"1":1,"2":1,"3":1,"4":0,"5":2,"6":2},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"ProductsController.js","sourceRoot":"","sources":["ProductsController.ts"],"names":[],"mappings":";;;;;AACA,2FAAiD;AACjD,uFAAwC;AAExC,MAAqB,kBAAkB;IAG9B,KAAK,CAAC,KAAK,CAAC,GAAwB;QACzC,IAAI,QAAQ,GAAc,MAAM,iBAAO,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAA;QACnF,OAAO,QAAQ,CAAA;IACjB,CAAC;IAIM,KAAK,CAAC,KAAK,CAAC,EAAE,OAAO,EAAuB;QACjD,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAA;QAC3B,MAAM,UAAU,GAAG,MAAM,iBAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAC7C,OAAO,UAAU,CAAA;IACnB,CAAC;IAIM,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAuB;QAC/C,IAAI,UAAU,GAAG,MAAM,iBAAO,CAAC,KAAK,EAAE;aACnC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC;aACtB,OAAO,CAAC,MAAM,CAAC;aACf,OAAO,CAAC,UAAU,CAAC;aACnB,OAAO,CAAC,eAAe,CAAC,CAAA;QAC3B,OAAO,UAAU,CAAA;IACnB,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,EAAE,MAAM,EAAuB;QACjD,IAAI,WAAW,GAAG,MAAM,kBAAQ,CAAC,QAAQ,CACvC;;;4BAGsB,MAAM,CAAC,EAAE;iCACJ,CAC5B,CAAA;QACD,IAAI,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;YACrC,OAAO;gBACL,MAAM,EAAE,OAAO;gBACf,OAAO,EAAE,mBAAmB;aAC7B,CAAA;SACF;QACD,OAAO,WAAW,CAAC,IAAI,CAAA;IACzB,CAAC;IAKM,KAAK,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAuB;QAC1D,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAA;QAC3B,MAAM,UAAU,GAAG,MAAM,iBAAO,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACtD,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QAC3B,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAA;QACjC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAA;QACzC,OAAO,UAAU,CAAC,IAAI,EAAE,CAAA;IAC1B,CAAC;IAIM,KAAK,CAAC,OAAO,CAAC,EAAE,MAAM,EAAuB;QAClD,MAAM,UAAU,GAAG,MAAM,iBAAO,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;QACtD,OAAO,UAAU,CAAC,MAAM,EAAE,CAAA;IAC5B,CAAC;CACF;AA9DD,qCA8DC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Database from '@ioc:Adonis/Lucid/Database'\r\nimport Product from 'App/Models/Product'\r\n\r\nexport default class ProductsController {\r\n  //Lista todos los productos\r\n\r\n  public async index(ctx: HttpContextContract) {\r\n    let products: Product[] = await Product.query().preload('farm').preload('category')\r\n    return products\r\n  }\r\n\r\n  // Almacena la información de un producto\r\n\r\n  public async store({ request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const newProduct = await Product.create(body)\r\n    return newProduct\r\n  }\r\n\r\n  // Muestra la información de un producto\r\n\r\n  public async show({ params }: HttpContextContract) {\r\n    let theProduct = await Product.query()\r\n      .where('id', params.id)\r\n      .preload('farm')\r\n      .preload('category')\r\n      .preload('stockProducts')\r\n    return theProduct\r\n  }\r\n\r\n  public async farmer({ params }: HttpContextContract) {\r\n    let theProducts = await Database.rawQuery(\r\n      `select pf.*, c.name  as category_name from\r\n      (select p.*, f.name as farm_name from products p join farms f\r\n        on p.id_farm = f.id\r\n        where f.id_user = ${params.id}) pf join categories c\r\n        on pf.id_category = c.id`\r\n    )\r\n    if (!theProducts || !theProducts.rows) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no encontrado',\r\n      }\r\n    }\r\n    return theProducts.rows\r\n  }\r\n\r\n  //Actualiza la información de un producto basado\r\n  //en el identificador y nuevos parámetros\r\n\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const body = request.body()\r\n    const theProduct = await Product.findOrFail(params.id)\r\n    theProduct.name = body.name\r\n    theProduct.id_farm = body.id_farm\r\n    theProduct.id_category = body.id_category\r\n    return theProduct.save()\r\n  }\r\n\r\n  //Elimina a un usuario basado en el identificador\r\n\r\n  public async destroy({ params }: HttpContextContract) {\r\n    const theProduct = await Product.findOrFail(params.id)\r\n    return theProduct.delete()\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e44dd05069ccf3aeef78d2c069c89534745f31c5"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\RolesController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\RolesController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":92}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":98}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":80}},"7":{"start":{"line":10,"column":20},"end":{"line":10,"column":74}},"8":{"start":{"line":11,"column":15},"end":{"line":11,"column":80}},"9":{"start":{"line":12,"column":19},"end":{"line":12,"column":90}},"10":{"start":{"line":15,"column":20},"end":{"line":15,"column":71}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":21}},"12":{"start":{"line":19,"column":21},"end":{"line":23,"column":10}},"13":{"start":{"line":24,"column":8},"end":{"line":36,"column":9}},"14":{"start":{"line":25,"column":28},"end":{"line":25,"column":74}},"15":{"start":{"line":26,"column":12},"end":{"line":35,"column":13}},"16":{"start":{"line":27,"column":32},"end":{"line":27,"column":65}},"17":{"start":{"line":28,"column":16},"end":{"line":28,"column":31}},"18":{"start":{"line":31,"column":16},"end":{"line":34,"column":18}},"19":{"start":{"line":39,"column":24},"end":{"line":39,"column":60}},"20":{"start":{"line":40,"column":8},"end":{"line":45,"column":9}},"21":{"start":{"line":41,"column":12},"end":{"line":44,"column":14}},"22":{"start":{"line":46,"column":8},"end":{"line":46,"column":23}},"23":{"start":{"line":49,"column":24},"end":{"line":49,"column":60}},"24":{"start":{"line":50,"column":8},"end":{"line":66,"column":9}},"25":{"start":{"line":51,"column":25},"end":{"line":55,"column":14}},"26":{"start":{"line":56,"column":12},"end":{"line":59,"column":13}},"27":{"start":{"line":57,"column":16},"end":{"line":57,"column":41}},"28":{"start":{"line":58,"column":16},"end":{"line":58,"column":38}},"29":{"start":{"line":62,"column":12},"end":{"line":65,"column":14}},"30":{"start":{"line":69,"column":20},"end":{"line":69,"column":75}},"31":{"start":{"line":70,"column":8},"end":{"line":79,"column":9}},"32":{"start":{"line":71,"column":12},"end":{"line":74,"column":14}},"33":{"start":{"line":77,"column":28},"end":{"line":77,"column":70}},"34":{"start":{"line":78,"column":12},"end":{"line":78,"column":36}},"35":{"start":{"line":82,"column":54},"end":{"line":82,"column":68}},"36":{"start":{"line":83,"column":30},"end":{"line":87,"column":10}},"37":{"start":{"line":88,"column":8},"end":{"line":88,"column":29}},"38":{"start":{"line":91,"column":54},"end":{"line":91,"column":68}},"39":{"start":{"line":92,"column":30},"end":{"line":95,"column":21}},"40":{"start":{"line":96,"column":8},"end":{"line":96,"column":29}},"41":{"start":{"line":99,"column":57},"end":{"line":99,"column":71}},"42":{"start":{"line":100,"column":33},"end":{"line":104,"column":10}},"43":{"start":{"line":105,"column":8},"end":{"line":105,"column":32}},"44":{"start":{"line":108,"column":57},"end":{"line":108,"column":71}},"45":{"start":{"line":109,"column":33},"end":{"line":112,"column":21}},"46":{"start":{"line":113,"column":8},"end":{"line":113,"column":32}},"47":{"start":{"line":116,"column":18},"end":{"line":120,"column":10}},"48":{"start":{"line":119,"column":12},"end":{"line":119,"column":35}},"49":{"start":{"line":121,"column":8},"end":{"line":126,"column":9}},"50":{"start":{"line":122,"column":12},"end":{"line":125,"column":14}},"51":{"start":{"line":127,"column":24},"end":{"line":127,"column":38}},"52":{"start":{"line":128,"column":8},"end":{"line":133,"column":9}},"53":{"start":{"line":129,"column":12},"end":{"line":132,"column":14}},"54":{"start":{"line":134,"column":8},"end":{"line":136,"column":10}},"55":{"start":{"line":139,"column":22},"end":{"line":141,"column":57}},"56":{"start":{"line":142,"column":8},"end":{"line":147,"column":9}},"57":{"start":{"line":143,"column":12},"end":{"line":146,"column":14}},"58":{"start":{"line":148,"column":8},"end":{"line":148,"column":28}},"59":{"start":{"line":151,"column":26},"end":{"line":159,"column":52}},"60":{"start":{"line":160,"column":8},"end":{"line":165,"column":9}},"61":{"start":{"line":161,"column":12},"end":{"line":164,"column":14}},"62":{"start":{"line":166,"column":8},"end":{"line":166,"column":32}},"63":{"start":{"line":169,"column":0},"end":{"line":169,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":21},"end":{"line":17,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":29},"end":{"line":37,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":27},"end":{"line":47,"column":5}},"line":38},"4":{"name":"(anonymous_4)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":38},"end":{"line":67,"column":5}},"line":48},"5":{"name":"(anonymous_5)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":30},"end":{"line":80,"column":5}},"line":68},"6":{"name":"(anonymous_6)","decl":{"start":{"line":81,"column":4},"end":{"line":81,"column":5}},"loc":{"start":{"line":81,"column":36},"end":{"line":89,"column":5}},"line":81},"7":{"name":"(anonymous_7)","decl":{"start":{"line":90,"column":4},"end":{"line":90,"column":5}},"loc":{"start":{"line":90,"column":38},"end":{"line":97,"column":5}},"line":90},"8":{"name":"(anonymous_8)","decl":{"start":{"line":98,"column":4},"end":{"line":98,"column":5}},"loc":{"start":{"line":98,"column":40},"end":{"line":106,"column":5}},"line":98},"9":{"name":"(anonymous_9)","decl":{"start":{"line":107,"column":4},"end":{"line":107,"column":5}},"loc":{"start":{"line":107,"column":42},"end":{"line":114,"column":5}},"line":107},"10":{"name":"(anonymous_10)","decl":{"start":{"line":115,"column":4},"end":{"line":115,"column":5}},"loc":{"start":{"line":115,"column":35},"end":{"line":137,"column":5}},"line":115},"11":{"name":"(anonymous_11)","decl":{"start":{"line":118,"column":32},"end":{"line":118,"column":33}},"loc":{"start":{"line":118,"column":43},"end":{"line":120,"column":9}},"line":118},"12":{"name":"(anonymous_12)","decl":{"start":{"line":138,"column":4},"end":{"line":138,"column":5}},"loc":{"start":{"line":138,"column":40},"end":{"line":149,"column":5}},"line":138},"13":{"name":"(anonymous_13)","decl":{"start":{"line":150,"column":4},"end":{"line":150,"column":5}},"loc":{"start":{"line":150,"column":44},"end":{"line":167,"column":5}},"line":150}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":24,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":36,"column":9}},{"start":{"line":24,"column":8},"end":{"line":36,"column":9}}],"line":24},"4":{"loc":{"start":{"line":26,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":35,"column":13}},{"start":{"line":26,"column":12},"end":{"line":35,"column":13}}],"line":26},"5":{"loc":{"start":{"line":40,"column":8},"end":{"line":45,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":45,"column":9}},{"start":{"line":40,"column":8},"end":{"line":45,"column":9}}],"line":40},"6":{"loc":{"start":{"line":50,"column":8},"end":{"line":66,"column":9}},"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":66,"column":9}},{"start":{"line":50,"column":8},"end":{"line":66,"column":9}}],"line":50},"7":{"loc":{"start":{"line":56,"column":12},"end":{"line":59,"column":13}},"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":59,"column":13}},{"start":{"line":56,"column":12},"end":{"line":59,"column":13}}],"line":56},"8":{"loc":{"start":{"line":70,"column":8},"end":{"line":79,"column":9}},"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":79,"column":9}},{"start":{"line":70,"column":8},"end":{"line":79,"column":9}}],"line":70},"9":{"loc":{"start":{"line":121,"column":8},"end":{"line":126,"column":9}},"type":"if","locations":[{"start":{"line":121,"column":8},"end":{"line":126,"column":9}},{"start":{"line":121,"column":8},"end":{"line":126,"column":9}}],"line":121},"10":{"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":35}},"type":"binary-expr","locations":[{"start":{"line":121,"column":12},"end":{"line":121,"column":16}},{"start":{"line":121,"column":20},"end":{"line":121,"column":35}}],"line":121},"11":{"loc":{"start":{"line":128,"column":8},"end":{"line":133,"column":9}},"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":133,"column":9}},{"start":{"line":128,"column":8},"end":{"line":133,"column":9}}],"line":128},"12":{"loc":{"start":{"line":128,"column":12},"end":{"line":128,"column":43}},"type":"binary-expr","locations":[{"start":{"line":128,"column":12},"end":{"line":128,"column":20}},{"start":{"line":128,"column":24},"end":{"line":128,"column":43}}],"line":128},"13":{"loc":{"start":{"line":142,"column":8},"end":{"line":147,"column":9}},"type":"if","locations":[{"start":{"line":142,"column":8},"end":{"line":147,"column":9}},{"start":{"line":142,"column":8},"end":{"line":147,"column":9}}],"line":142},"14":{"loc":{"start":{"line":142,"column":12},"end":{"line":142,"column":37}},"type":"binary-expr","locations":[{"start":{"line":142,"column":12},"end":{"line":142,"column":20}},{"start":{"line":142,"column":24},"end":{"line":142,"column":37}}],"line":142},"15":{"loc":{"start":{"line":160,"column":8},"end":{"line":165,"column":9}},"type":"if","locations":[{"start":{"line":160,"column":8},"end":{"line":165,"column":9}},{"start":{"line":160,"column":8},"end":{"line":165,"column":9}}],"line":160},"16":{"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":45}},"type":"binary-expr","locations":[{"start":{"line":160,"column":12},"end":{"line":160,"column":24}},{"start":{"line":160,"column":28},"end":{"line":160,"column":45}}],"line":160}},"s":{"0":1,"1":6,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":3,"13":2,"14":2,"15":2,"16":1,"17":1,"18":1,"19":2,"20":2,"21":1,"22":1,"23":3,"24":3,"25":2,"26":1,"27":1,"28":1,"29":1,"30":3,"31":3,"32":3,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1},"f":{"0":6,"1":1,"2":3,"3":2,"4":3,"5":3,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[5,1],"2":[6,6],"3":[2,0],"4":[1,1],"5":[1,1],"6":[2,1],"7":[1,0],"8":[3,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"inputSourceMap":{"version":3,"file":"RolesController.js","sourceRoot":"","sources":["RolesController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport Role from 'App/Models/Role'\r\nimport RoleModule from 'App/Models/RoleModule'\r\nimport PermissionRol from 'App/Models/PermissionRol'\r\nimport User from 'App/Models/User'\r\nimport { schema, rules } from '@ioc:Adonis/Core/Validator'\r\nimport Rol from 'App/Models/Role'\r\nimport Database from '@ioc:Adonis/Lucid/Database'\r\n\r\nexport default class RolesController {\r\n  public async index(ctx: HttpContextContract) {\r\n    let roles: Role[] = await Role.query().preload('permissions')\r\n    return roles\r\n  }\r\n\r\n  public async store({ request }: HttpContextContract) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        name: schema.string([rules.trim(), rules.required()]),\r\n      }),\r\n    })\r\n    if (post) {\r\n      const theRole = await Role.findBy('name', post.name)\r\n      if (!theRole) {\r\n        const newRole: Role = await Role.create(post)\r\n        return newRole\r\n      } else {\r\n        return {\r\n          status: 'error',\r\n          message: 'Rol ya creado',\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public async show({ params }: HttpContextContract) {\r\n    const theRole = await Role.find(params.id)\r\n    if (!theRole) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no encontrado',\r\n      }\r\n    }\r\n    return theRole\r\n  }\r\n\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const theRole = await Role.find(params.id)\r\n    if (theRole) {\r\n      const post = await request.validate({\r\n        schema: schema.create({\r\n          name: schema.string([rules.trim(), rules.required()]),\r\n        }),\r\n      })\r\n      if (post) {\r\n        theRole.name = post.name\r\n        return theRole.save()\r\n      }\r\n    } else {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no encontrado',\r\n      }\r\n    }\r\n  }\r\n\r\n  public async destroy({ params }: HttpContextContract) {\r\n    let users = await User.query().where('id_rol', params.id)\r\n    if (users) {\r\n      return {\r\n        error: 'El rol tiene usuarios asociados',\r\n        users: users,\r\n      }\r\n    } else {\r\n      const theRole: Role = await Role.findOrFail(params.id)\r\n      return theRole.delete()\r\n    }\r\n  }\r\n\r\n  public async assignModule({ request }: HttpContextContract) {\r\n    const { parent: id_role, child: id_module } = request.body()\r\n    const theRoleModule = await RoleModule.create({\r\n      id_role,\r\n      id_module,\r\n      index: 0,\r\n    })\r\n    return theRoleModule\r\n  }\r\n\r\n  public async unassignModule({ request }: HttpContextContract) {\r\n    const { parent: id_role, child: id_module } = request.body()\r\n    const theRoleModule = await RoleModule.query()\r\n      .where('id_role', id_role)\r\n      .where('id_module', id_module)\r\n      .delete()\r\n    return theRoleModule\r\n  }\r\n\r\n  public async assignPermission({ request }: HttpContextContract) {\r\n    const { parent: id_rol, child: id_permission } = request.body()\r\n    const thePermissionRol = await PermissionRol.create({\r\n      id_rol,\r\n      id_permission,\r\n      activated: true,\r\n    })\r\n    return thePermissionRol\r\n  }\r\n\r\n  public async unassignPermission({ request }: HttpContextContract) {\r\n    const { parent: id_rol, child: id_permission } = request.body()\r\n    const thePermissionRol = await PermissionRol.query()\r\n      .where('id_role', id_rol)\r\n      .where('id_permission', id_permission)\r\n      .delete()\r\n    return thePermissionRol\r\n  }\r\n\r\n  public async modulesMenus({ params }: HttpContextContract) {\r\n    let rol = await Rol.query()\r\n      .where('id', params.id)\r\n      .preload('modules', (query) => {\r\n        query.preload('menus')\r\n      })\r\n\r\n    if (!rol || rol.length == 0) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no encontrado',\r\n      }\r\n    }\r\n\r\n    const modules = rol[0].modules\r\n\r\n    if (!modules || modules.length == 0) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no tiene modulos asignados',\r\n      }\r\n    }\r\n    return {\r\n      modules,\r\n    }\r\n  }\r\n\r\n  public async showAssignModules({ params }: HttpContextContract) {\r\n    let modules = await Database.rawQuery(\r\n      `select m.id, m.name, CASE WHEN rm.id_module IS NULL THEN false ELSE true END checked\r\n          from (select id_module from role_modules where id_role = ${params.id})  rm\r\n            right join modules m on rm.id_module = m.id`\r\n    )\r\n    if (!modules || !modules.rows) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no encontrado',\r\n      }\r\n    }\r\n    return modules.rows\r\n  }\r\n\r\n  public async showAssignPermissions({ params }: HttpContextContract) {\r\n    let permissions = await Database.rawQuery(\r\n      `select\r\n          p.id,\r\n          p.url as name,\r\n          CASE WHEN pr.id_permission\r\n          IS NULL THEN false ELSE true\r\n          END checked from\r\n        (select id_permission  from permissions_roles pr where id_rol = ${params.id})  pr\r\n          right join\r\n          permissions p on pr.id_permission = p.id`\r\n    )\r\n    if (!permissions || !permissions.rows) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Rol no encontrado',\r\n      }\r\n    }\r\n    return permissions.rows\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5658b0933df4683d206dd375d79c143d71504759"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\RoleModule.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Models\\RoleModule.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"14":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}},"15":{"start":{"line":14,"column":14},"end":{"line":14,"column":63}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":34}},"17":{"start":{"line":18,"column":0},"end":{"line":21,"column":39}},"18":{"start":{"line":22,"column":0},"end":{"line":25,"column":46}},"19":{"start":{"line":26,"column":0},"end":{"line":29,"column":44}},"20":{"start":{"line":30,"column":0},"end":{"line":33,"column":42}},"21":{"start":{"line":34,"column":0},"end":{"line":37,"column":46}},"22":{"start":{"line":38,"column":0},"end":{"line":41,"column":46}},"23":{"start":{"line":42,"column":0},"end":{"line":42,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":132}},"type":"cond-expr","locations":[{"start":{"line":36,"column":121},"end":{"line":36,"column":123}},{"start":{"line":36,"column":126},"end":{"line":36,"column":132}}],"line":36},"14":{"loc":{"start":{"line":36,"column":43},"end":{"line":36,"column":102}},"type":"binary-expr","locations":[{"start":{"line":36,"column":43},"end":{"line":36,"column":82}},{"start":{"line":36,"column":86},"end":{"line":36,"column":102}}],"line":36},"15":{"loc":{"start":{"line":40,"column":30},"end":{"line":40,"column":132}},"type":"cond-expr","locations":[{"start":{"line":40,"column":121},"end":{"line":40,"column":123}},{"start":{"line":40,"column":126},"end":{"line":40,"column":132}}],"line":40},"16":{"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":102}},"type":"binary-expr","locations":[{"start":{"line":40,"column":43},"end":{"line":40,"column":82}},{"start":{"line":40,"column":86},"end":{"line":40,"column":102}}],"line":40}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":0,"6":0,"7":0,"8":0,"9":6,"10":1,"11":6,"12":6,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1},"f":{"0":6,"1":6},"b":{"0":[1,1,1],"1":[0,6],"2":[0,6],"3":[6,0],"4":[6,6],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[6,6,0],"10":[1,1,1],"11":[6,0],"12":[6,6],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,1]},"inputSourceMap":{"version":3,"file":"RoleModule.js","sourceRoot":"","sources":["RoleModule.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyD;AAEzD,MAAqB,UAAW,SAAQ,eAAS;;AACjC,gBAAK,GAAG,cAAc,CAAA;AAEpC;IADC,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;sCACX;AAGjB;IADC,IAAA,YAAM,GAAE;;6CACe;AAGxB;IADC,IAAA,YAAM,GAAE;;2CACa;AAGtB;IADC,IAAA,YAAM,GAAE;;yCACW;AAGpB;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;6CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;6CAAA;AAlB5B,6BAmBC","sourcesContent":["import { DateTime } from 'luxon'\r\nimport { BaseModel, column } from '@ioc:Adonis/Lucid/Orm'\r\n\r\nexport default class RoleModule extends BaseModel {\r\n  public static table = 'role_modules'\r\n  @column({ isPrimary: true })\r\n  public id: number\r\n\r\n  @column()\r\n  public id_module: number\r\n\r\n  @column()\r\n  public id_role: number\r\n\r\n  @column()\r\n  public index: number\r\n\r\n  @column.dateTime({ autoCreate: true })\r\n  public createdAt: DateTime\r\n\r\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\r\n  public updatedAt: DateTime\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"504c88582ff6d1046eb74ad68189fadbaa7ceeea"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\SecuritysController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\SecuritysController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":81}},"5":{"start":{"line":8,"column":27},"end":{"line":8,"column":122}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":98}},"7":{"start":{"line":10,"column":20},"end":{"line":10,"column":74}},"8":{"start":{"line":13,"column":21},"end":{"line":18,"column":10}},"9":{"start":{"line":19,"column":24},"end":{"line":19,"column":72}},"10":{"start":{"line":20,"column":8},"end":{"line":43,"column":9}},"11":{"start":{"line":21,"column":44},"end":{"line":21,"column":51}},"12":{"start":{"line":22,"column":12},"end":{"line":39,"column":13}},"13":{"start":{"line":23,"column":30},"end":{"line":25,"column":18}},"14":{"start":{"line":26,"column":16},"end":{"line":26,"column":43}},"15":{"start":{"line":27,"column":16},"end":{"line":35,"column":18}},"16":{"start":{"line":38,"column":16},"end":{"line":38,"column":71}},"17":{"start":{"line":42,"column":12},"end":{"line":42,"column":65}},"18":{"start":{"line":46,"column":21},"end":{"line":53,"column":10}},"19":{"start":{"line":54,"column":8},"end":{"line":67,"column":9}},"20":{"start":{"line":55,"column":28},"end":{"line":55,"column":76}},"21":{"start":{"line":56,"column":12},"end":{"line":66,"column":13}},"22":{"start":{"line":57,"column":32},"end":{"line":57,"column":65}},"23":{"start":{"line":58,"column":16},"end":{"line":58,"column":53}},"24":{"start":{"line":59,"column":16},"end":{"line":59,"column":31}},"25":{"start":{"line":62,"column":16},"end":{"line":65,"column":18}},"26":{"start":{"line":70,"column":8},"end":{"line":70,"column":39}},"27":{"start":{"line":71,"column":8},"end":{"line":71,"column":34}},"28":{"start":{"line":74,"column":21},"end":{"line":78,"column":10}},"29":{"start":{"line":79,"column":24},"end":{"line":79,"column":72}},"30":{"start":{"line":80,"column":8},"end":{"line":98,"column":9}},"31":{"start":{"line":81,"column":12},"end":{"line":84,"column":14}},"32":{"start":{"line":87,"column":26},"end":{"line":89,"column":14}},"33":{"start":{"line":90,"column":32},"end":{"line":90,"column":64}},"34":{"start":{"line":91,"column":23},"end":{"line":91,"column":64}},"35":{"start":{"line":92,"column":31},"end":{"line":92,"column":59}},"36":{"start":{"line":93,"column":12},"end":{"line":93,"column":97}},"37":{"start":{"line":94,"column":12},"end":{"line":97,"column":14}},"38":{"start":{"line":101,"column":24},"end":{"line":101,"column":77}},"39":{"start":{"line":102,"column":8},"end":{"line":131,"column":9}},"40":{"start":{"line":103,"column":12},"end":{"line":106,"column":14}},"41":{"start":{"line":109,"column":25},"end":{"line":114,"column":14}},"42":{"start":{"line":115,"column":12},"end":{"line":130,"column":13}},"43":{"start":{"line":116,"column":16},"end":{"line":116,"column":53}},"44":{"start":{"line":117,"column":16},"end":{"line":117,"column":53}},"45":{"start":{"line":118,"column":16},"end":{"line":118,"column":37}},"46":{"start":{"line":119,"column":16},"end":{"line":119,"column":47}},"47":{"start":{"line":120,"column":16},"end":{"line":123,"column":18}},"48":{"start":{"line":126,"column":16},"end":{"line":129,"column":18}},"49":{"start":{"line":134,"column":0},"end":{"line":134,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":45},"end":{"line":44,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":45,"column":4},"end":{"line":45,"column":5}},"loc":{"start":{"line":45,"column":30},"end":{"line":68,"column":5}},"line":45},"3":{"name":"(anonymous_3)","decl":{"start":{"line":69,"column":4},"end":{"line":69,"column":5}},"loc":{"start":{"line":69,"column":27},"end":{"line":72,"column":5}},"line":69},"4":{"name":"(anonymous_4)","decl":{"start":{"line":73,"column":4},"end":{"line":73,"column":5}},"loc":{"start":{"line":73,"column":44},"end":{"line":99,"column":5}},"line":73},"5":{"name":"(anonymous_5)","decl":{"start":{"line":100,"column":4},"end":{"line":100,"column":5}},"loc":{"start":{"line":100,"column":43},"end":{"line":132,"column":5}},"line":100}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":20,"column":8},"end":{"line":43,"column":9}},"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":43,"column":9}},{"start":{"line":20,"column":8},"end":{"line":43,"column":9}}],"line":20},"4":{"loc":{"start":{"line":22,"column":12},"end":{"line":39,"column":13}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":39,"column":13}},{"start":{"line":22,"column":12},"end":{"line":39,"column":13}}],"line":22},"5":{"loc":{"start":{"line":54,"column":8},"end":{"line":67,"column":9}},"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":67,"column":9}},{"start":{"line":54,"column":8},"end":{"line":67,"column":9}}],"line":54},"6":{"loc":{"start":{"line":56,"column":12},"end":{"line":66,"column":13}},"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":66,"column":13}},{"start":{"line":56,"column":12},"end":{"line":66,"column":13}}],"line":56},"7":{"loc":{"start":{"line":80,"column":8},"end":{"line":98,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":98,"column":9}},{"start":{"line":80,"column":8},"end":{"line":98,"column":9}}],"line":80},"8":{"loc":{"start":{"line":102,"column":8},"end":{"line":131,"column":9}},"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":131,"column":9}},{"start":{"line":102,"column":8},"end":{"line":131,"column":9}}],"line":102},"9":{"loc":{"start":{"line":115,"column":12},"end":{"line":130,"column":13}},"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":130,"column":13}},{"start":{"line":115,"column":12},"end":{"line":130,"column":13}}],"line":115}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":3,"10":3,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1},"f":{"0":4,"1":4,"2":0,"3":0,"4":0,"5":0},"b":{"0":[1,1,1],"1":[3,1],"2":[4,4],"3":[2,1],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"SecuritysController.js","sourceRoot":"","sources":["SecuritysController.ts"],"names":[],"mappings":"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","sourcesContent":["// import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport User from 'App/Models/User'\r\nimport Hash from '@ioc:Adonis/Core/Hash'\r\nimport PlantillaSeguridad from 'App/Services/EmailsTemplates/TemplateSecurity'\r\nimport EmailService from 'App/Services/EmailService'\r\nimport { schema, rules } from '@ioc:Adonis/Core/Validator'\r\n\r\nexport default class SecuritysController {\r\n  public async login({ auth, request, response }) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        email: schema.string([rules.email(), rules.required()]),\r\n        password: schema.string([rules.required()]),\r\n      }),\r\n    })\r\n    const theUser = await User.findBy('email', post.email)\r\n    if (theUser) {\r\n      const { id, email, password } = theUser\r\n      if (await Hash.verify(password, post.password)) {\r\n        //Generacion de token\r\n        const token = await auth.use('api').generate(theUser, {\r\n          expiresIn: '60 mins',\r\n        })\r\n        //Obtiene los datos correspondientes a la relacion\r\n        await theUser.load('role')\r\n        // await theUser.load('farm')\r\n        // await theUser.load('orders')\r\n        // theUser.password = ''\r\n        return {\r\n          token: token,\r\n          user: {\r\n            id,\r\n            email,\r\n            role_id: theUser.role.id,\r\n            role_name: theUser.role.name,\r\n          },\r\n        }\r\n      } else {\r\n        return response.unauthorized('Credenciales inválidas')\r\n      }\r\n    } else {\r\n      return response.unauthorized('Correo no registrado')\r\n    }\r\n  }\r\n\r\n  public async signin({ request }) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        name: schema.string([rules.trim(), rules.required()]),\r\n        email: schema.string([rules.email(), rules.required()]),\r\n        password: schema.string([rules.required()]),\r\n        id_rol: schema.number([rules.required()]),\r\n      }),\r\n    })\r\n    if (post) {\r\n      const theUser = await User.findBy('email', post.email)\r\n      if (!theUser) {\r\n        const newUser: User = await User.create(post)\r\n        User.hashPassword(newUser)\r\n        return newUser\r\n      } else {\r\n        return {\r\n          status: 'error',\r\n          message: 'el correo ya está registrado',\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public async logout({ auth }) {\r\n    await auth.use('api').revoke()\r\n    return { revokend: true }\r\n  }\r\n\r\n  public async forgotPassword({ auth, request }) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        email: schema.string([rules.email(), rules.required()]),\r\n      }),\r\n    })\r\n    const theUser = await User.findBy('email', post.email)\r\n    if (!theUser) {\r\n      return {\r\n        status: 'error',\r\n        message: 'El correo no está registrado en la plataforma.',\r\n      }\r\n    } else {\r\n      const token = await auth.use('api').generate(theUser, {\r\n        expiresIn: '60 mins',\r\n      })\r\n      let templateEmail: PlantillaSeguridad = new PlantillaSeguridad()\r\n      let html = templateEmail.forgotPassword(token.token)\r\n      let serviceEmail: EmailService = new EmailService()\r\n      serviceEmail.sendEmail(post.email, 'Solicitud restablecimiento de contraseña', html)\r\n      return {\r\n        status: 'success',\r\n        message: 'Revisar el correo.',\r\n      }\r\n    }\r\n  }\r\n\r\n  public async resetPassword({ auth, request }) {\r\n    const theUser = await User.findBy('email', auth.user!.email)\r\n    if (!theUser) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Este usuario no existe',\r\n      }\r\n    } else {\r\n      const post = await request.validate({\r\n        schema: schema.create({\r\n          password: schema.string([rules.required()]),\r\n          password_new: schema.string([rules.required()]),\r\n        }),\r\n      })\r\n      if (post.password_new === post.password) {\r\n        theUser.password = post.password_new\r\n        User.hashPassword(theUser)\r\n        await theUser.save()\r\n        await auth.use('api').revoke()\r\n        return {\r\n          status: 'success',\r\n          message: 'La contraseña se ha restaurado correctamente',\r\n        }\r\n      }else {\r\n        return {\r\n          status: 'error',\r\n          message: 'La constraseña no coincide'\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6c56407a467adc12789ab922244f895c8e4c393e"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Services\\EmailsTemplates\\TemplateSecurity.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Services\\EmailsTemplates\\TemplateSecurity.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":9,"column":19},"end":{"line":9,"column":45}},"5":{"start":{"line":10,"column":8},"end":{"line":15,"column":33}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":20}},"7":{"start":{"line":19,"column":19},"end":{"line":19,"column":45}},"8":{"start":{"line":20,"column":8},"end":{"line":25,"column":33}},"9":{"start":{"line":26,"column":8},"end":{"line":26,"column":20}},"10":{"start":{"line":29,"column":0},"end":{"line":29,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":26},"end":{"line":17,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":25},"end":{"line":27,"column":5}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"TemplateSecurity.js","sourceRoot":"","sources":["TemplateSecurity.ts"],"names":[],"mappings":";;;;;AAAA,gFAAsC;AAEtC,MAAqB,kBAAkB;IAC9B,cAAc,CAAC,KAAa;QACjC,IAAI,IAAI,GAAG,0BAA0B,CAAA;QAErC,IAAI;YACF,2EAA2E;gBAC3E,aAAG,CAAC,GAAG,CAAC,cAAc,CAAC;gBACvB,8BAA8B;gBAC9B,KAAK;gBACL,gBAAgB,CAAA;QAElB,OAAO,IAAI,CAAA;IACb,CAAC;IAEM,aAAa,CAAC,KAAa;QAChC,IAAI,IAAI,GAAG,0BAA0B,CAAA;QACrC,IAAI;YACF,iDAAiD;gBACjD,aAAG,CAAC,GAAG,CAAC,cAAc,CAAC;gBACvB,8BAA8B;gBAC9B,KAAK;gBACL,gBAAgB,CAAA;QAElB,OAAO,IAAI,CAAA;IACb,CAAC;CACF;AAzBD,qCAyBC","sourcesContent":["import Env from '@ioc:Adonis/Core/Env'\r\n\r\nexport default class PlantillaSeguridad {\r\n  public forgotPassword(token: string) {\r\n    let html = '<h1>Sistema Fincapp</h1>'\r\n\r\n    html +=\r\n      \"<p>Para solicitar el restablecimiento de su contraseña ingrese  <a href='\" +\r\n      Env.get('URL_FRONTEND') +\r\n      '/#/security/change-password/' +\r\n      token +\r\n      \"'>aquí</a></p>\"\r\n\r\n    return html\r\n  }\r\n\r\n  public resetPassword(token: string) {\r\n    let html = '<h1>Sistema Fincapp</h1>'\r\n    html +=\r\n      \"<p>Para cambiar su contraseña ingrese <a href='\" +\r\n      Env.get('URL_FRONTEND') +\r\n      '/#/security/change-password/' +\r\n      token +\r\n      \"'>aquí</a></p>\"\r\n\r\n    return html\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"93468a0ed7b2fbb77b471159d0c2f267a146ee39"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Services\\EmailService.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Services\\EmailService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":9,"column":23},"end":{"line":9,"column":48}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":64}},"6":{"start":{"line":11,"column":20},"end":{"line":16,"column":9}},"7":{"start":{"line":17,"column":8},"end":{"line":24,"column":11}},"8":{"start":{"line":20,"column":12},"end":{"line":20,"column":38}},"9":{"start":{"line":23,"column":12},"end":{"line":23,"column":33}},"10":{"start":{"line":27,"column":0},"end":{"line":27,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":44},"end":{"line":25,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":18},"end":{"line":19,"column":19}},"loc":{"start":{"line":19,"column":24},"end":{"line":21,"column":9}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":19},"end":{"line":22,"column":20}},"loc":{"start":{"line":22,"column":30},"end":{"line":24,"column":9}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"EmailService.js","sourceRoot":"","sources":["EmailService.ts"],"names":[],"mappings":";;;;;AAAA,gFAAsC;AAEtC,MAAqB,YAAY;IACxB,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,OAAO;QAC3C,MAAM,MAAM,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAA;QACxC,MAAM,CAAC,SAAS,CAAC,aAAG,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAAA;QAC7C,MAAM,GAAG,GAAG;YACV,EAAE,EAAE,OAAO;YACX,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,qBAAqB,CAAC;YACpC,OAAO,EAAE,UAAU;YACnB,IAAI,EAAE,OAAO;SACd,CAAA;QACD,MAAM;aACH,IAAI,CAAC,GAAG,CAAC;aACT,IAAI,CAAC,GAAG,EAAE;YACT,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAA;QAC3B,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;QACtB,CAAC,CAAC,CAAA;IACN,CAAC;CACF;AAnBD,+BAmBC","sourcesContent":["import Env from '@ioc:Adonis/Core/Env'\r\n\r\nexport default class EmailService {\r\n  public sendEmail(emailTo, theSubject, theHTML) {\r\n    const sgMail = require('@sendgrid/mail')\r\n    sgMail.setApikey(Env.get('SENDGRID_API_KEY'))\r\n    const msg = {\r\n      to: emailTo,\r\n      from: Env.get('SENDGRID_FROM_EMAIL'),\r\n      subject: theSubject,\r\n      html: theHTML,\r\n    }\r\n    sgMail\r\n      .send(msg)\r\n      .then(() => {\r\n        console.log('Email sent')\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6eabf23cc300e0d3ed10a2cdbd0b4e6a9252e552"},"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\UsersController.ts":{"path":"C:\\Users\\david\\OneDrive\\Escritorio\\Project\\ProyectoSoftware\\fincapp-back\\app\\Controllers\\Http\\UsersController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":74}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":98}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":21}},"7":{"start":{"line":14,"column":21},"end":{"line":21,"column":10}},"8":{"start":{"line":22,"column":8},"end":{"line":35,"column":9}},"9":{"start":{"line":23,"column":28},"end":{"line":23,"column":76}},"10":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"11":{"start":{"line":25,"column":32},"end":{"line":25,"column":65}},"12":{"start":{"line":26,"column":16},"end":{"line":26,"column":53}},"13":{"start":{"line":27,"column":16},"end":{"line":27,"column":31}},"14":{"start":{"line":30,"column":16},"end":{"line":33,"column":18}},"15":{"start":{"line":38,"column":22},"end":{"line":43,"column":20}},"16":{"start":{"line":44,"column":8},"end":{"line":49,"column":9}},"17":{"start":{"line":45,"column":12},"end":{"line":48,"column":14}},"18":{"start":{"line":50,"column":8},"end":{"line":50,"column":23}},"19":{"start":{"line":53,"column":21},"end":{"line":59,"column":10}},"20":{"start":{"line":60,"column":8},"end":{"line":74,"column":9}},"21":{"start":{"line":61,"column":28},"end":{"line":61,"column":64}},"22":{"start":{"line":62,"column":12},"end":{"line":73,"column":13}},"23":{"start":{"line":63,"column":16},"end":{"line":63,"column":41}},"24":{"start":{"line":64,"column":16},"end":{"line":64,"column":43}},"25":{"start":{"line":65,"column":16},"end":{"line":65,"column":45}},"26":{"start":{"line":66,"column":16},"end":{"line":66,"column":38}},"27":{"start":{"line":69,"column":16},"end":{"line":72,"column":18}},"28":{"start":{"line":77,"column":24},"end":{"line":77,"column":66}},"29":{"start":{"line":78,"column":8},"end":{"line":78,"column":32}},"30":{"start":{"line":81,"column":22},"end":{"line":81,"column":107}},"31":{"start":{"line":82,"column":8},"end":{"line":82,"column":23}},"32":{"start":{"line":85,"column":0},"end":{"line":85,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":21},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":36,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":27},"end":{"line":51,"column":5}},"line":37},"4":{"name":"(anonymous_4)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":38},"end":{"line":75,"column":5}},"line":52},"5":{"name":"(anonymous_5)","decl":{"start":{"line":76,"column":4},"end":{"line":76,"column":5}},"loc":{"start":{"line":76,"column":30},"end":{"line":79,"column":5}},"line":76},"6":{"name":"(anonymous_6)","decl":{"start":{"line":80,"column":4},"end":{"line":80,"column":5}},"loc":{"start":{"line":80,"column":33},"end":{"line":83,"column":5}},"line":80}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":22,"column":8},"end":{"line":35,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":35,"column":9}},{"start":{"line":22,"column":8},"end":{"line":35,"column":9}}],"line":22},"4":{"loc":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},{"start":{"line":24,"column":12},"end":{"line":34,"column":13}}],"line":24},"5":{"loc":{"start":{"line":44,"column":8},"end":{"line":49,"column":9}},"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":49,"column":9}},{"start":{"line":44,"column":8},"end":{"line":49,"column":9}}],"line":44},"6":{"loc":{"start":{"line":60,"column":8},"end":{"line":74,"column":9}},"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":74,"column":9}},{"start":{"line":60,"column":8},"end":{"line":74,"column":9}}],"line":60},"7":{"loc":{"start":{"line":62,"column":12},"end":{"line":73,"column":13}},"type":"if","locations":[{"start":{"line":62,"column":12},"end":{"line":73,"column":13}},{"start":{"line":62,"column":12},"end":{"line":73,"column":13}}],"line":62}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":1,"18":1,"19":3,"20":2,"21":2,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1,"28":2,"29":1,"30":0,"31":0,"32":1},"f":{"0":1,"1":1,"2":3,"3":2,"4":3,"5":2,"6":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[2,0],"4":[1,1],"5":[1,1],"6":[2,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"UsersController.js","sourceRoot":"","sources":["UsersController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\r\nimport User from 'App/Models/User'\r\nimport { schema, rules } from '@ioc:Adonis/Core/Validator'\r\n\r\nexport default class UsersController {\r\n  /**\r\n   * Lista todos los usuarios\r\n   */\r\n  public async index(ctx: HttpContextContract) {\r\n    let users: User[] = await User.query().preload('farm').preload('orders').preload('role')\r\n    return users\r\n  }\r\n  /**\r\n   * Almacena la información de un usuario\r\n   */\r\n  public async store({ request }: HttpContextContract) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        name: schema.string([rules.trim(), rules.required()]),\r\n        email: schema.string([rules.email(), rules.required()]),\r\n        password: schema.string([rules.required()]),\r\n        id_rol: schema.number([rules.required()]),\r\n      }),\r\n    })\r\n    if (post) {\r\n      const theUser = await User.findBy('email', post.email)\r\n      if (!theUser) {\r\n        const newUser: User = await User.create(post)\r\n        User.hashPassword(newUser)\r\n        return newUser\r\n      } else {\r\n        return {\r\n          status: 'error',\r\n          message: 'Usuario ya creado',\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Muestra la información de un solo usuario\r\n   */\r\n  public async show({ params }: HttpContextContract) {\r\n    let theUser = await User.query()\r\n      .where('id', params.id)\r\n      .preload('farm')\r\n      .preload('orders')\r\n      .preload('role')\r\n      .first()\r\n    if (!theUser) {\r\n      return {\r\n        status: 'error',\r\n        message: 'Usuario no encontrado',\r\n      }\r\n    }\r\n    return theUser\r\n  }\r\n  /**\r\n   * Actualiza la información de un usuario basado\r\n   * en el identificador y nuevos parámetros\r\n   */\r\n  public async update({ params, request }: HttpContextContract) {\r\n    const post = await request.validate({\r\n      schema: schema.create({\r\n        name: schema.string([rules.trim(), rules.required()]),\r\n        email: schema.string([rules.email(), rules.required()]),\r\n        id_rol: schema.number([rules.required()]),\r\n      }),\r\n    })\r\n    if (post) {\r\n      const theUser = await User.find(params.id)\r\n      if (theUser) {\r\n        theUser.name = post.name\r\n        theUser.email = post.email\r\n        theUser.id_rol = post.id_rol\r\n        return theUser.save()\r\n      } else {\r\n        return {\r\n          status: 'error',\r\n          message: 'Usuario no encontrado',\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Elimina a un usuario basado en el identificador\r\n   */\r\n  public async destroy({ params }: HttpContextContract) {\r\n    const theUser: User = await User.findOrFail(params.id)\r\n    return theUser.delete()\r\n  }\r\n\r\n  /**\r\n   * Muestra la informacion de todos los pedidos de ese usuario\r\n   */\r\n  public async showOrders({ params }: HttpContextContract) {\r\n    let theUser = await User.query().where('id', params.id).preload('orders').preload('role')\r\n    return theUser\r\n  }\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e92f8279c6980966c8486bdab64da667620910ba"}}